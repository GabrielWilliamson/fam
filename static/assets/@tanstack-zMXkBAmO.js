var kn=e=>{throw TypeError(e)};var Zt=(e,t,n)=>t.has(e)||kn("Cannot "+n);var f=(e,t,n)=>(Zt(e,t,"read from private field"),n?n.call(e):t.get(e)),F=(e,t,n)=>t.has(e)?kn("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),w=(e,t,n,s)=>(Zt(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),$=(e,t,n)=>(Zt(e,t,"access private method"),n);var Dt=(e,t,n,s)=>({set _(r){w(e,t,r,n)},get _(){return f(e,t,s)}});import{r as I,j as E}from"./react-DlGbiwJB.js";import{i as Y}from"./tiny-invariant-CopsF_GD.js";import{w as $n}from"./tiny-warning-Dirz_SfZ.js";import{r as Zs}from"./react-dom-DvWAHP8V.js";import{w as er}from"./use-sync-external-store-DM3Jgb0I.js";var yt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},pt=typeof window>"u"||"Deno"in globalThis;function ce(){}function tr(e,t){return typeof e=="function"?e(t):e}function hn(e){return typeof e=="number"&&e>=0&&e!==1/0}function ms(e,t){return Math.max(e+(t||0)-Date.now(),0)}function et(e,t){return typeof e=="function"?e(t):e}function he(e,t){return typeof e=="function"?e(t):e}function jn(e,t){const{type:n="all",exact:s,fetchStatus:r,predicate:i,queryKey:o,stale:a}=e;if(o){if(s){if(t.queryHash!==Ln(o,t.options))return!1}else if(!xt(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||r&&r!==t.state.fetchStatus||i&&!i(t))}function zn(e,t){const{exact:n,status:s,predicate:r,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(Xe(t.options.mutationKey)!==Xe(i))return!1}else if(!xt(t.options.mutationKey,i))return!1}return!(s&&t.state.status!==s||r&&!r(t))}function Ln(e,t){return((t==null?void 0:t.queryKeyHashFn)||Xe)(e)}function Xe(e){return JSON.stringify(e,(t,n)=>fn(n)?Object.keys(n).sort().reduce((s,r)=>(s[r]=n[r],s),{}):n)}function xt(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!xt(e[n],t[n])):!1}function vs(e,t){if(e===t)return e;const n=Bn(e)&&Bn(t);if(n||fn(e)&&fn(t)){const s=n?e:Object.keys(e),r=s.length,i=n?t:Object.keys(t),o=i.length,a=n?[]:{};let c=0;for(let l=0;l<o;l++){const d=n?l:i[l];(!n&&s.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,c++):(a[d]=vs(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&c++)}return r===o&&c===r?e:a}return t}function Bt(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Bn(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function fn(e){if(!qn(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!qn(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function qn(e){return Object.prototype.toString.call(e)==="[object Object]"}function nr(e){return new Promise(t=>{setTimeout(t,e)})}function gn(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?vs(e,t):t}function sr(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function rr(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var ys=Symbol(),Ss=(e,t)=>!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ys?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn,Be,Ee,nt,os,ir=(os=class extends yt{constructor(){super();F(this,Be);F(this,Ee);F(this,nt);w(this,nt,t=>{if(!pt&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){f(this,Ee)||this.setEventListener(f(this,nt))}onUnsubscribe(){var t;this.hasListeners()||((t=f(this,Ee))==null||t.call(this),w(this,Ee,void 0))}setEventListener(t){var n;w(this,nt,t),(n=f(this,Ee))==null||n.call(this),w(this,Ee,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){f(this,Be)!==t&&(w(this,Be,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof f(this,Be)=="boolean"?f(this,Be):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Be=new WeakMap,Ee=new WeakMap,nt=new WeakMap,os),bn=new ir,st,$e,rt,as,or=(as=class extends yt{constructor(){super();F(this,st,!0);F(this,$e);F(this,rt);w(this,rt,t=>{if(!pt&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){f(this,$e)||this.setEventListener(f(this,rt))}onUnsubscribe(){var t;this.hasListeners()||((t=f(this,$e))==null||t.call(this),w(this,$e,void 0))}setEventListener(t){var n;w(this,rt,t),(n=f(this,$e))==null||n.call(this),w(this,$e,t(this.setOnline.bind(this)))}setOnline(t){f(this,st)!==t&&(w(this,st,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return f(this,st)}},st=new WeakMap,$e=new WeakMap,rt=new WeakMap,as),qt=new or;function ar(e){return Math.min(1e3*2**e,3e4)}function Rs(e){return(e??"online")==="online"?qt.isOnline():!0}var Cs=class{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function en(e){return e instanceof Cs}function ws(e){let t=!1,n=0,s=!1,r,i,o;const a=new Promise((y,C)=>{i=y,o=C}),c=y=>{var C;s||(m(new Cs(y)),(C=e.abort)==null||C.call(e))},l=()=>{t=!0},d=()=>{t=!1},g=()=>bn.isFocused()&&(e.networkMode==="always"||qt.isOnline())&&e.canRun(),h=()=>Rs(e.networkMode)&&e.canRun(),u=y=>{var C;s||(s=!0,(C=e.onSuccess)==null||C.call(e,y),r==null||r(),i(y))},m=y=>{var C;s||(s=!0,(C=e.onError)==null||C.call(e,y),r==null||r(),o(y))},p=()=>new Promise(y=>{var C;r=S=>{(s||g())&&y(S)},(C=e.onPause)==null||C.call(e)}).then(()=>{var y;r=void 0,s||(y=e.onContinue)==null||y.call(e)}),v=()=>{if(s)return;let y;const C=n===0?e.initialPromise:void 0;try{y=C??e.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(u).catch(S=>{var P;if(s)return;const R=e.retry??(pt?0:3),_=e.retryDelay??ar,L=typeof _=="function"?_(n,S):_,H=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,S);if(t||!H){m(S);return}n++,(P=e.onFail)==null||P.call(e,n,S),nr(L).then(()=>g()?void 0:p()).then(()=>{t?m(S):v()})})};return{promise:a,cancel:c,continue:()=>(r==null||r(),a),cancelRetry:l,continueRetry:d,canStart:h,start:()=>(h()?v():p().then(v),a)}}function lr(){let e=[],t=0,n=h=>{h()},s=h=>{h()},r=h=>setTimeout(h,0);const i=h=>{r=h},o=h=>{let u;t++;try{u=h()}finally{t--,t||l()}return u},a=h=>{t?e.push(h):r(()=>{n(h)})},c=h=>(...u)=>{a(()=>{h(...u)})},l=()=>{const h=e;e=[],h.length&&r(()=>{s(()=>{h.forEach(u=>{n(u)})})})};return{batch:o,batchCalls:c,schedule:a,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{s=h},setScheduler:i}}var z=lr(),qe,ls,_s=(ls=class{constructor(){F(this,qe)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hn(this.gcTime)&&w(this,qe,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(pt?1/0:5*60*1e3))}clearGcTimeout(){f(this,qe)&&(clearTimeout(f(this,qe)),w(this,qe,void 0))}},qe=new WeakMap,ls),it,ot,ue,K,It,Ue,de,_e,us,ur=(us=class extends _s{constructor(t){super();F(this,de);F(this,it);F(this,ot);F(this,ue);F(this,K);F(this,It);F(this,Ue);w(this,Ue,!1),w(this,It,t.defaultOptions),this.setOptions(t.options),this.observers=[],w(this,ue,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,w(this,it,t.state||cr(this.options)),this.state=f(this,it),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=f(this,K))==null?void 0:t.promise}setOptions(t){this.options={...f(this,It),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&f(this,ue).remove(this)}setData(t,n){const s=gn(this.state.data,t,this.options);return $(this,de,_e).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){$(this,de,_e).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,r;const n=(s=f(this,K))==null?void 0:s.promise;return(r=f(this,K))==null||r.cancel(t),n?n.then(ce).catch(ce):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(f(this,it))}isActive(){return this.observers.some(t=>he(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!ms(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=f(this,K))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=f(this,K))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),f(this,ue).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(f(this,K)&&(f(this,Ue)?f(this,K).cancel({revert:!0}):f(this,K).cancelRetry()),this.scheduleGc()),f(this,ue).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$(this,de,_e).call(this,{type:"invalidate"})}fetch(t,n){var c,l,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(f(this,K))return f(this,K).continueRetry(),f(this,K).promise}if(t&&this.setOptions(t),!this.options.queryFn){const g=this.observers.find(h=>h.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,r=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(w(this,Ue,!0),s.signal)})},i=()=>{const g=Ss(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return r(h),w(this,Ue,!1),this.options.persister?this.options.persister(g,h,this):g(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(o),(c=this.options.behavior)==null||c.onFetch(o,this),w(this,ot,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((l=o.fetchOptions)==null?void 0:l.meta))&&$(this,de,_e).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=g=>{var h,u,m,p;en(g)&&g.silent||$(this,de,_e).call(this,{type:"error",error:g}),en(g)||((u=(h=f(this,ue).config).onError)==null||u.call(h,g,this),(p=(m=f(this,ue).config).onSettled)==null||p.call(m,this.state.data,g,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return w(this,K,ws({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var h,u,m,p;if(g===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(g),(u=(h=f(this,ue).config).onSuccess)==null||u.call(h,g,this),(p=(m=f(this,ue).config).onSettled)==null||p.call(m,g,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(g,h)=>{$(this,de,_e).call(this,{type:"failed",failureCount:g,error:h})},onPause:()=>{$(this,de,_e).call(this,{type:"pause"})},onContinue:()=>{$(this,de,_e).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),f(this,K).start()}},it=new WeakMap,ot=new WeakMap,ue=new WeakMap,K=new WeakMap,It=new WeakMap,Ue=new WeakMap,de=new WeakSet,_e=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Ps(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return en(r)&&r.revert&&f(this,ot)?{...f(this,ot),fetchStatus:"idle"}:{...s,error:r,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),z.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),f(this,ue).notify({query:this,type:"updated",action:t})})},us);function Ps(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Rs(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function cr(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ye,cs,dr=(cs=class extends yt{constructor(t={}){super();F(this,ye);this.config=t,w(this,ye,new Map)}build(t,n,s){const r=n.queryKey,i=n.queryHash??Ln(r,n);let o=this.get(i);return o||(o=new ur({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){f(this,ye).has(t.queryHash)||(f(this,ye).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=f(this,ye).get(t.queryHash);n&&(t.destroy(),n===t&&f(this,ye).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){z.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return f(this,ye).get(t)}getAll(){return[...f(this,ye).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>jn(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>jn(t,s)):n}notify(t){z.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){z.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){z.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ye=new WeakMap,cs),Se,X,Ne,Re,Ie,ds,hr=(ds=class extends _s{constructor(t){super();F(this,Re);F(this,Se);F(this,X);F(this,Ne);this.mutationId=t.mutationId,w(this,X,t.mutationCache),w(this,Se,[]),this.state=t.state||Fs(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){f(this,Se).includes(t)||(f(this,Se).push(t),this.clearGcTimeout(),f(this,X).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){w(this,Se,f(this,Se).filter(n=>n!==t)),this.scheduleGc(),f(this,X).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){f(this,Se).length||(this.state.status==="pending"?this.scheduleGc():f(this,X).remove(this))}continue(){var t;return((t=f(this,Ne))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var r,i,o,a,c,l,d,g,h,u,m,p,v,y,C,S,R,_,L,H;w(this,Ne,ws({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(P,D)=>{$(this,Re,Ie).call(this,{type:"failed",failureCount:P,error:D})},onPause:()=>{$(this,Re,Ie).call(this,{type:"pause"})},onContinue:()=>{$(this,Re,Ie).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>f(this,X).canRun(this)}));const n=this.state.status==="pending",s=!f(this,Ne).canStart();try{if(!n){$(this,Re,Ie).call(this,{type:"pending",variables:t,isPaused:s}),await((i=(r=f(this,X).config).onMutate)==null?void 0:i.call(r,t,this));const D=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,t));D!==this.state.context&&$(this,Re,Ie).call(this,{type:"pending",context:D,variables:t,isPaused:s})}const P=await f(this,Ne).start();return await((l=(c=f(this,X).config).onSuccess)==null?void 0:l.call(c,P,t,this.state.context,this)),await((g=(d=this.options).onSuccess)==null?void 0:g.call(d,P,t,this.state.context)),await((u=(h=f(this,X).config).onSettled)==null?void 0:u.call(h,P,null,this.state.variables,this.state.context,this)),await((p=(m=this.options).onSettled)==null?void 0:p.call(m,P,null,t,this.state.context)),$(this,Re,Ie).call(this,{type:"success",data:P}),P}catch(P){try{throw await((y=(v=f(this,X).config).onError)==null?void 0:y.call(v,P,t,this.state.context,this)),await((S=(C=this.options).onError)==null?void 0:S.call(C,P,t,this.state.context)),await((_=(R=f(this,X).config).onSettled)==null?void 0:_.call(R,void 0,P,this.state.variables,this.state.context,this)),await((H=(L=this.options).onSettled)==null?void 0:H.call(L,void 0,P,t,this.state.context)),P}finally{$(this,Re,Ie).call(this,{type:"error",error:P})}}finally{f(this,X).runNext(this)}}},Se=new WeakMap,X=new WeakMap,Ne=new WeakMap,Re=new WeakSet,Ie=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),z.batch(()=>{f(this,Se).forEach(s=>{s.onMutationUpdate(t)}),f(this,X).notify({mutation:this,type:"updated",action:t})})},ds);function Fs(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ie,Et,hs,fr=(hs=class extends yt{constructor(t={}){super();F(this,ie);F(this,Et);this.config=t,w(this,ie,new Map),w(this,Et,Date.now())}build(t,n,s){const r=new hr({mutationCache:this,mutationId:++Dt(this,Et)._,options:t.defaultMutationOptions(n),state:s});return this.add(r),r}add(t){const n=Vt(t),s=f(this,ie).get(n)??[];s.push(t),f(this,ie).set(n,s),this.notify({type:"added",mutation:t})}remove(t){var s;const n=Vt(t);if(f(this,ie).has(n)){const r=(s=f(this,ie).get(n))==null?void 0:s.filter(i=>i!==t);r&&(r.length===0?f(this,ie).delete(n):f(this,ie).set(n,r))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const n=(s=f(this,ie).get(Vt(t)))==null?void 0:s.find(r=>r.state.status==="pending");return!n||n===t}runNext(t){var s;const n=(s=f(this,ie).get(Vt(t)))==null?void 0:s.find(r=>r!==t&&r.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){z.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...f(this,ie).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(s=>zn(n,s))}findAll(t={}){return this.getAll().filter(n=>zn(t,n))}notify(t){z.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return z.batch(()=>Promise.all(t.map(n=>n.continue().catch(ce))))}},ie=new WeakMap,Et=new WeakMap,hs);function Vt(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function gr(e){return{onFetch:(t,n)=>{const s=async()=>{var m,p,v,y,C;const r=t.options,i=(v=(p=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:p.fetchMore)==null?void 0:v.direction,o=((y=t.state.data)==null?void 0:y.pages)||[],a=((C=t.state.data)==null?void 0:C.pageParams)||[],c={pages:[],pageParams:[]};let l=!1;const d=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(t.signal.aborted?l=!0:t.signal.addEventListener("abort",()=>{l=!0}),t.signal)})},g=Ss(t.options,t.fetchOptions),h=async(S,R,_)=>{if(l)return Promise.reject();if(R==null&&S.pages.length)return Promise.resolve(S);const L={queryKey:t.queryKey,pageParam:R,direction:_?"backward":"forward",meta:t.options.meta};d(L);const H=await g(L),{maxPages:P}=t.options,D=_?rr:sr;return{pages:D(S.pages,H,P),pageParams:D(S.pageParams,R,P)}};let u;if(i&&o.length){const S=i==="backward",R=S?pr:Un,_={pages:o,pageParams:a},L=R(r,_);u=await h(_,L,S)}else{u=await h(c,a[0]??r.initialPageParam);const S=e??o.length;for(let R=1;R<S;R++){const _=Un(r,u);u=await h(u,_)}}return u};t.options.persister?t.fetchFn=()=>{var r,i;return(i=(r=t.options).persister)==null?void 0:i.call(r,s,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=s}}}function Un(e,{pages:t,pageParams:n}){const s=t.length-1;return e.getNextPageParam(t[s],t,n[s],n)}function pr(e,{pages:t,pageParams:n}){var s;return(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n)}var G,Le,be,at,lt,Oe,ut,ct,fs,Ro=(fs=class{constructor(e={}){F(this,G);F(this,Le);F(this,be);F(this,at);F(this,lt);F(this,Oe);F(this,ut);F(this,ct);w(this,G,e.queryCache||new dr),w(this,Le,e.mutationCache||new fr),w(this,be,e.defaultOptions||{}),w(this,at,new Map),w(this,lt,new Map),w(this,Oe,0)}mount(){Dt(this,Oe)._++,f(this,Oe)===1&&(w(this,ut,bn.subscribe(async e=>{e&&(await this.resumePausedMutations(),f(this,G).onFocus())})),w(this,ct,qt.subscribe(async e=>{e&&(await this.resumePausedMutations(),f(this,G).onOnline())})))}unmount(){var e,t;Dt(this,Oe)._--,f(this,Oe)===0&&((e=f(this,ut))==null||e.call(this),w(this,ut,void 0),(t=f(this,ct))==null||t.call(this),w(this,ct,void 0))}isFetching(e){return f(this,G).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return f(this,Le).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=f(this,G).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),s=f(this,G).build(this,n);return e.revalidateIfStale&&s.isStaleByTime(et(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return f(this,G).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),r=f(this,G).get(s.queryHash),i=r==null?void 0:r.state.data,o=tr(t,i);if(o!==void 0)return f(this,G).build(this,s).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return z.batch(()=>f(this,G).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=f(this,G).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=f(this,G);z.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=f(this,G),s={type:"active",...e};return z.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},s=z.batch(()=>f(this,G).findAll(e).map(r=>r.cancel(n)));return Promise.all(s).then(ce).catch(ce)}invalidateQueries(e={},t={}){return z.batch(()=>{if(f(this,G).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=z.batch(()=>f(this,G).findAll(e).filter(r=>!r.isDisabled()).map(r=>{let i=r.fetch(void 0,n);return n.throwOnError||(i=i.catch(ce)),r.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(s).then(ce)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=f(this,G).build(this,t);return n.isStaleByTime(et(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ce).catch(ce)}fetchInfiniteQuery(e){return e.behavior=gr(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ce).catch(ce)}resumePausedMutations(){return qt.isOnline()?f(this,Le).resumePausedMutations():Promise.resolve()}getQueryCache(){return f(this,G)}getMutationCache(){return f(this,Le)}getDefaultOptions(){return f(this,be)}setDefaultOptions(e){w(this,be,e)}setQueryDefaults(e,t){f(this,at).set(Xe(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...f(this,at).values()];let n={};return t.forEach(s=>{xt(e,s.queryKey)&&(n={...n,...s.defaultOptions})}),n}setMutationDefaults(e,t){f(this,lt).set(Xe(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...f(this,lt).values()];let n={};return t.forEach(s=>{xt(e,s.mutationKey)&&(n={...n,...s.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...f(this,be).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ln(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ys&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...f(this,be).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){f(this,G).clear(),f(this,Le).clear()}},G=new WeakMap,Le=new WeakMap,be=new WeakMap,at=new WeakMap,lt=new WeakMap,Oe=new WeakMap,ut=new WeakMap,ct=new WeakMap,fs),ee,b,$t,J,Qe,dt,Ce,Lt,ht,ft,Ke,We,De,gt,A,Ct,pn,mn,vn,yn,Sn,Rn,Cn,Ms,gs,mr=(gs=class extends yt{constructor(t,n){super();F(this,A);F(this,ee);F(this,b);F(this,$t);F(this,J);F(this,Qe);F(this,dt);F(this,Ce);F(this,Lt);F(this,ht);F(this,ft);F(this,Ke);F(this,We);F(this,De);F(this,gt,new Set);this.options=n,w(this,ee,t),w(this,Ce,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(f(this,b).addObserver(this),Nn(f(this,b),this.options)?$(this,A,Ct).call(this):this.updateResult(),$(this,A,yn).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wn(f(this,b),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wn(f(this,b),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,$(this,A,Sn).call(this),$(this,A,Rn).call(this),f(this,b).removeObserver(this)}setOptions(t,n){const s=this.options,r=f(this,b);if(this.options=f(this,ee).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof he(this.options.enabled,f(this,b))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");$(this,A,Cn).call(this),f(this,b).setOptions(this.options),s._defaulted&&!Bt(this.options,s)&&f(this,ee).getQueryCache().notify({type:"observerOptionsUpdated",query:f(this,b),observer:this});const i=this.hasListeners();i&&Qn(f(this,b),r,this.options,s)&&$(this,A,Ct).call(this),this.updateResult(n),i&&(f(this,b)!==r||he(this.options.enabled,f(this,b))!==he(s.enabled,f(this,b))||et(this.options.staleTime,f(this,b))!==et(s.staleTime,f(this,b)))&&$(this,A,pn).call(this);const o=$(this,A,mn).call(this);i&&(f(this,b)!==r||he(this.options.enabled,f(this,b))!==he(s.enabled,f(this,b))||o!==f(this,De))&&$(this,A,vn).call(this,o)}getOptimisticResult(t){const n=f(this,ee).getQueryCache().build(f(this,ee),t),s=this.createResult(n,t);return yr(this,s)&&(w(this,J,s),w(this,dt,this.options),w(this,Qe,f(this,b).state)),s}getCurrentResult(){return f(this,J)}trackResult(t,n){const s={};return Object.keys(t).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),n==null||n(r),t[r])})}),s}trackProp(t){f(this,gt).add(t)}getCurrentQuery(){return f(this,b)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=f(this,ee).defaultQueryOptions(t),s=f(this,ee).getQueryCache().build(f(this,ee),n);return s.isFetchingOptimistic=!0,s.fetch().then(()=>this.createResult(s,n))}fetch(t){return $(this,A,Ct).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),f(this,J)))}createResult(t,n){var H;const s=f(this,b),r=this.options,i=f(this,J),o=f(this,Qe),a=f(this,dt),l=t!==s?t.state:f(this,$t),{state:d}=t;let g={...d},h=!1,u;if(n._optimisticResults){const P=this.hasListeners(),D=!P&&Nn(t,n),O=P&&Qn(t,s,n,r);(D||O)&&(g={...g,...Ps(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:m,errorUpdatedAt:p,status:v}=g;if(n.select&&g.data!==void 0)if(i&&g.data===(o==null?void 0:o.data)&&n.select===f(this,Lt))u=f(this,ht);else try{w(this,Lt,n.select),u=n.select(g.data),u=gn(i==null?void 0:i.data,u,n),w(this,ht,u),w(this,Ce,null)}catch(P){w(this,Ce,P)}else u=g.data;if(n.placeholderData!==void 0&&u===void 0&&v==="pending"){let P;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))P=i.data;else if(P=typeof n.placeholderData=="function"?n.placeholderData((H=f(this,ft))==null?void 0:H.state.data,f(this,ft)):n.placeholderData,n.select&&P!==void 0)try{P=n.select(P),w(this,Ce,null)}catch(D){w(this,Ce,D)}P!==void 0&&(v="success",u=gn(i==null?void 0:i.data,P,n),h=!0)}f(this,Ce)&&(m=f(this,Ce),u=f(this,ht),p=Date.now(),v="error");const y=g.fetchStatus==="fetching",C=v==="pending",S=v==="error",R=C&&y,_=u!==void 0;return{status:v,fetchStatus:g.fetchStatus,isPending:C,isSuccess:v==="success",isError:S,isInitialLoading:R,isLoading:R,data:u,dataUpdatedAt:g.dataUpdatedAt,error:m,errorUpdatedAt:p,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>l.dataUpdateCount||g.errorUpdateCount>l.errorUpdateCount,isFetching:y,isRefetching:y&&!C,isLoadingError:S&&!_,isPaused:g.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&_,isStale:On(t,n),refetch:this.refetch}}updateResult(t){const n=f(this,J),s=this.createResult(f(this,b),this.options);if(w(this,Qe,f(this,b).state),w(this,dt,this.options),f(this,Qe).data!==void 0&&w(this,ft,f(this,b)),Bt(s,n))return;w(this,J,s);const r={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!f(this,gt).size)return!0;const c=new Set(a??f(this,gt));return this.options.throwOnError&&c.add("error"),Object.keys(f(this,J)).some(l=>{const d=l;return f(this,J)[d]!==n[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(r.listeners=!0),$(this,A,Ms).call(this,{...r,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&$(this,A,yn).call(this)}},ee=new WeakMap,b=new WeakMap,$t=new WeakMap,J=new WeakMap,Qe=new WeakMap,dt=new WeakMap,Ce=new WeakMap,Lt=new WeakMap,ht=new WeakMap,ft=new WeakMap,Ke=new WeakMap,We=new WeakMap,De=new WeakMap,gt=new WeakMap,A=new WeakSet,Ct=function(t){$(this,A,Cn).call(this);let n=f(this,b).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(ce)),n},pn=function(){$(this,A,Sn).call(this);const t=et(this.options.staleTime,f(this,b));if(pt||f(this,J).isStale||!hn(t))return;const s=ms(f(this,J).dataUpdatedAt,t)+1;w(this,Ke,setTimeout(()=>{f(this,J).isStale||this.updateResult()},s))},mn=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(f(this,b)):this.options.refetchInterval)??!1},vn=function(t){$(this,A,Rn).call(this),w(this,De,t),!(pt||he(this.options.enabled,f(this,b))===!1||!hn(f(this,De))||f(this,De)===0)&&w(this,We,setInterval(()=>{(this.options.refetchIntervalInBackground||bn.isFocused())&&$(this,A,Ct).call(this)},f(this,De)))},yn=function(){$(this,A,pn).call(this),$(this,A,vn).call(this,$(this,A,mn).call(this))},Sn=function(){f(this,Ke)&&(clearTimeout(f(this,Ke)),w(this,Ke,void 0))},Rn=function(){f(this,We)&&(clearInterval(f(this,We)),w(this,We,void 0))},Cn=function(){const t=f(this,ee).getQueryCache().build(f(this,ee),this.options);if(t===f(this,b))return;const n=f(this,b);w(this,b,t),w(this,$t,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Ms=function(t){z.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(f(this,J))}),f(this,ee).getQueryCache().notify({query:f(this,b),type:"observerResultsUpdated"})})},gs);function vr(e,t){return he(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Nn(e,t){return vr(e,t)||e.state.data!==void 0&&wn(e,t,t.refetchOnMount)}function wn(e,t,n){if(he(t.enabled,e)!==!1){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&On(e,t)}return!1}function Qn(e,t,n,s){return(e!==t||he(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&On(e,n)}function On(e,t){return he(t.enabled,e)!==!1&&e.isStaleByTime(et(t.staleTime,e))}function yr(e,t){return!Bt(e.getCurrentResult(),t)}var Ve,Ae,te,Fe,Me,jt,_n,ps,Sr=(ps=class extends yt{constructor(t,n){super();F(this,Me);F(this,Ve);F(this,Ae);F(this,te);F(this,Fe);w(this,Ve,t),this.setOptions(n),this.bindMethods(),$(this,Me,jt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var s;const n=this.options;this.options=f(this,Ve).defaultMutationOptions(t),Bt(this.options,n)||f(this,Ve).getMutationCache().notify({type:"observerOptionsUpdated",mutation:f(this,te),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Xe(n.mutationKey)!==Xe(this.options.mutationKey)?this.reset():((s=f(this,te))==null?void 0:s.state.status)==="pending"&&f(this,te).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=f(this,te))==null||t.removeObserver(this)}onMutationUpdate(t){$(this,Me,jt).call(this),$(this,Me,_n).call(this,t)}getCurrentResult(){return f(this,Ae)}reset(){var t;(t=f(this,te))==null||t.removeObserver(this),w(this,te,void 0),$(this,Me,jt).call(this),$(this,Me,_n).call(this)}mutate(t,n){var s;return w(this,Fe,n),(s=f(this,te))==null||s.removeObserver(this),w(this,te,f(this,Ve).getMutationCache().build(f(this,Ve),this.options)),f(this,te).addObserver(this),f(this,te).execute(t)}},Ve=new WeakMap,Ae=new WeakMap,te=new WeakMap,Fe=new WeakMap,Me=new WeakSet,jt=function(){var n;const t=((n=f(this,te))==null?void 0:n.state)??Fs();w(this,Ae,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},_n=function(t){z.batch(()=>{var n,s,r,i,o,a,c,l;if(f(this,Fe)&&this.hasListeners()){const d=f(this,Ae).variables,g=f(this,Ae).context;(t==null?void 0:t.type)==="success"?((s=(n=f(this,Fe)).onSuccess)==null||s.call(n,t.data,d,g),(i=(r=f(this,Fe)).onSettled)==null||i.call(r,t.data,null,d,g)):(t==null?void 0:t.type)==="error"&&((a=(o=f(this,Fe)).onError)==null||a.call(o,t.error,d,g),(l=(c=f(this,Fe)).onSettled)==null||l.call(c,void 0,t.error,d,g))}this.listeners.forEach(d=>{d(f(this,Ae))})})},ps),xs=I.createContext(void 0),Is=e=>{const t=I.useContext(xs);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Co=({client:e,children:t})=>(I.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),E.jsx(xs.Provider,{value:e,children:t})),Es=I.createContext(!1),Rr=()=>I.useContext(Es);Es.Provider;function Cr(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var wr=I.createContext(Cr()),_r=()=>I.useContext(wr);function $s(e,t){return typeof e=="function"?e(...t):!!e}function Pr(){}var Fr=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Mr=e=>{I.useEffect(()=>{e.clearReset()},[e])},xr=({result:e,errorResetBoundary:t,throwOnError:n,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&$s(n,[e.error,s]),Ir=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},Er=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,$r=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Lr(e,t,n){const s=Is(),r=Rr(),i=_r(),o=s.defaultQueryOptions(e);o._optimisticResults=r?"isRestoring":"optimistic",Ir(o),Fr(o,i),Mr(i);const[a]=I.useState(()=>new t(s,o)),c=a.getOptimisticResult(o);if(I.useSyncExternalStore(I.useCallback(l=>{const d=r?()=>{}:a.subscribe(z.batchCalls(l));return a.updateResult(),d},[a,r]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),I.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),Er(o,c))throw $r(o,a,i);if(xr({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash)}))throw c.error;return o.notifyOnChangeProps?c:a.trackResult(c)}function wo(e,t){return Lr(e,mr)}function _o(e){return e}function Po(e,t){const n=Is(),[s]=I.useState(()=>new Sr(n,e));I.useEffect(()=>{s.setOptions(e)},[s,e]);const r=I.useSyncExternalStore(I.useCallback(o=>s.subscribe(z.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),i=I.useCallback((o,a)=>{s.mutate(o,a).catch(Pr)},[s]);if(r.error&&$s(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:i,mutateAsync:r.mutate}}const Kn="pushstate",Wn="popstate",Ls="beforeunload",bs=e=>(e.preventDefault(),e.returnValue=""),br=()=>{removeEventListener(Ls,bs,{capture:!0})};function Os(e){let t=e.getLocation();const n=new Set;let s=[];const r=()=>{t=e.getLocation(),n.forEach(o=>o())},i=async(o,a)=>{var c;if(!((a==null?void 0:a.ignoreBlocker)??!1)&&typeof document<"u"&&s.length){for(const d of s)if(!await d()){(c=e.onBlocked)==null||c.call(e,r);return}}o()};return{get location(){return t},subscribe:o=>(n.add(o),()=>{n.delete(o)}),push:(o,a,c)=>{a=_t(a),i(()=>{e.pushState(o,a),r()},c)},replace:(o,a,c)=>{a=_t(a),i(()=>{e.replaceState(o,a),r()},c)},go:(o,a)=>{i(()=>{e.go(o),r()},a)},back:o=>{i(()=>{e.back(),r()},o)},forward:o=>{i(()=>{e.forward(),r()},o)},createHref:o=>e.createHref(o),block:o=>(s.push(o),s.length===1&&addEventListener(Ls,bs,{capture:!0}),()=>{s=s.filter(a=>a!==o),s.length||br()}),flush:()=>{var o;return(o=e.flush)==null?void 0:o.call(e)},destroy:()=>{var o;return(o=e.destroy)==null?void 0:o.call(e)},notify:r}}function _t(e){return e||(e={}),{...e,key:Ds()}}function Or(e){const t=typeof document<"u"?window:void 0,n=t.history.pushState,s=t.history.replaceState,r=p=>p,i=()=>Pn(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state);let o=i(),a;const c=()=>o;let l,d;const g=()=>{if(!l)return;(l.isPush?n:s).call(t.history,l.state,"",l.href),l=void 0,d=void 0,a=void 0},h=(p,v,y)=>{const C=r(v);d||(a=o),o=Pn(v,y),l={href:C,state:y,isPush:(l==null?void 0:l.isPush)||p==="push"},d||(d=Promise.resolve().then(()=>g()))},u=()=>{o=i(),m.notify()},m=Os({getLocation:c,pushState:(p,v)=>h("push",p,v),replaceState:(p,v)=>h("replace",p,v),back:()=>t.history.back(),forward:()=>t.history.forward(),go:p=>t.history.go(p),createHref:p=>r(p),flush:g,destroy:()=>{t.history.pushState=n,t.history.replaceState=s,t.removeEventListener(Kn,u),t.removeEventListener(Wn,u)},onBlocked:p=>{a&&o!==a&&(o=a,p())}});return t.addEventListener(Kn,u),t.addEventListener(Wn,u),t.history.pushState=function(...p){const v=n.apply(t.history,p);return u(),v},t.history.replaceState=function(...p){const v=s.apply(t.history,p);return u(),v},m}function Dr(e={initialEntries:["/"]}){const t=e.initialEntries;let n=e.initialIndex??t.length-1,s={key:Ds()};return Os({getLocation:()=>Pn(t[n],s),pushState:(i,o)=>{s=o,t.push(i),n=Math.max(t.length-1,0)},replaceState:(i,o)=>{s=o,t[n]=i},back:()=>{s=_t(s),n--},forward:()=>{s=_t(s),n=Math.min(n+1,t.length-1)},go:i=>{s=_t(s),n=Math.min(Math.max(n+i,0),t.length-1)},createHref:i=>i})}function Pn(e,t){const n=e.indexOf("#"),s=e.indexOf("?");return{href:e,pathname:e.substring(0,n>0?s>0?Math.min(n,s):n:s>0?s:e.length),hash:n>-1?e.substring(n):"",search:s>-1?e.slice(s,n===-1?void 0:n):"",state:t||{}}}function Ds(){return(Math.random()+1).toString(36).substring(7)}const tn=I.createContext(null);function Vs(){return typeof document>"u"?tn:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=tn,tn)}function ke(e){const t=I.useContext(Vs());return $n(!(((e==null?void 0:e.warn)??!0)&&!t)),t}var Vr=class{constructor(e,t){this.listeners=new Set,this._batching=!1,this._flushing=0,this._nextPriority=null,this.subscribe=n=>{var r,i;this.listeners.add(n);const s=(i=(r=this.options)==null?void 0:r.onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),s==null||s()}},this.setState=(n,s)=>{var o,a,c,l,d;const r=this.state;this.state=(o=this.options)!=null&&o.updateFn?this.options.updateFn(r)(n):n(r);const i=(s==null?void 0:s.priority)??((a=this.options)==null?void 0:a.defaultPriority)??"high";this._nextPriority===null?this._nextPriority=i:this._nextPriority==="high"?this._nextPriority=i:this._nextPriority=((c=this.options)==null?void 0:c.defaultPriority)??"high",(d=(l=this.options)==null?void 0:l.onUpdate)==null||d.call(l,{priority:this._nextPriority}),this._flush()},this._flush=()=>{if(this._batching)return;const n=++this._flushing;this.listeners.forEach(s=>{this._flushing===n&&s({priority:this._nextPriority??"high"})})},this.batch=n=>{if(this._batching)return n();this._batching=!0,n(),this._batching=!1,this._flush()},this.state=e,this.options=t}};function Ar(e,t=n=>n){return er.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,Tr)}function Tr(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let s=0;s<n.length;s++)if(!Object.prototype.hasOwnProperty.call(t,n[s])||!Object.is(e[n[s]],t[n[s]]))return!1;return!0}const oe="__root__";function Hr(e,t){let n,s,r,i="";for(n in e)if((r=e[n])!==void 0)if(Array.isArray(r))for(s=0;s<r.length;s++)i&&(i+="&"),i+=encodeURIComponent(n)+"="+encodeURIComponent(r[s]);else i&&(i+="&"),i+=encodeURIComponent(n)+"="+encodeURIComponent(r);return""+i}function Xn(e){if(!e)return"";const t=decodeURIComponent(e);return t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t}function Gr(e,t){let n,s;const r={},i=e.split("&");for(;n=i.shift();){const o=n.indexOf("=");if(o!==-1){s=n.slice(0,o);const a=n.slice(o+1);r[s]!==void 0?r[s]=[].concat(r[s],Xn(a)):r[s]=Xn(a)}else s=n,r[s]=""}return r}const kr=zr(JSON.parse),jr=Br(JSON.stringify,JSON.parse);function zr(e){return t=>{t.substring(0,1)==="?"&&(t=t.substring(1));const n=Gr(t);for(const s in n){const r=n[s];if(typeof r=="string")try{n[s]=e(r)}catch{}}return n}}function Br(e,t){function n(s){if(typeof s=="object"&&s!==null)try{return e(s)}catch{}else if(typeof s=="string"&&typeof t=="function")try{return t(s),e(s)}catch{}return s}return s=>{s={...s},Object.keys(s).forEach(i=>{const o=s[i];typeof o>"u"||o===void 0?delete s[i]:s[i]=n(o)});const r=Hr(s).toString();return r?`?${r}`:""}}function ze(e){return e[e.length-1]}function qr(e){return typeof e=="function"}function Ze(e,t){return qr(e)?e(t):e}function Pt(e,t){return t.reduce((n,s)=>(n[s]=e[s],n),{})}function me(e,t){if(e===t)return e;const n=t,s=Yn(e)&&Yn(n);if(s||Ut(e)&&Ut(n)){const r=s?e:Object.keys(e),i=r.length,o=s?n:Object.keys(n),a=o.length,c=s?[]:{};let l=0;for(let d=0;d<a;d++){const g=s?d:o[d];(!s&&r.includes(g)||s)&&e[g]===void 0&&n[g]===void 0?(c[g]=void 0,l++):(c[g]=me(e[g],n[g]),c[g]===e[g]&&e[g]!==void 0&&l++)}return i===a&&l===i?e:c}return n}function Ut(e){if(!Jn(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!Jn(n)||!n.hasOwnProperty("isPrototypeOf"))}function Jn(e){return Object.prototype.toString.call(e)==="[object Object]"}function Yn(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function tt(e,t,n=!1){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(Ut(e)&&Ut(t)){const s=Object.keys(e),r=Object.keys(t);return!n&&s.length!==r.length?!1:!r.some(i=>!(i in e)||!tt(e[i],t[i],n))}return Array.isArray(e)&&Array.isArray(t)?!e.some((s,r)=>!tt(s,t[r],n)):!1}const nn=typeof window<"u"?I.useLayoutEffect:I.useEffect;function Ft(e){let t,n;const s=new Promise((r,i)=>{t=r,n=i});return s.status="pending",s.resolve=()=>{s.status="resolved",t(),e==null||e()},s.reject=r=>{s.status="rejected",n(r)},s}function Zn(e){const t=I.useRef({value:e,prev:null}),n=t.current.value;return e!==n&&(t.current={value:e,prev:n}),t.current.prev}function Dn(e){const t=e.errorComponent??Qt;return E.jsx(Ur,{getResetKey:e.getResetKey,onCatch:e.onCatch,children:({error:n,reset:s})=>n?I.createElement(t,{error:n,reset:s}):e.children})}class Ur extends I.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,n){this.props.onCatch&&this.props.onCatch(t,n)}render(){return this.props.children({error:this.state.error,reset:()=>{this.reset()}})}}function Qt({error:e}){const[t,n]=I.useState(!1);return E.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[E.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),E.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(s=>!s),children:t?"Hide Error":"Show Error"})]}),E.jsx("div",{style:{height:".25rem"}}),t?E.jsx("div",{children:E.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:e.message?E.jsx("code",{children:e.message}):null})}):null]})}function ne(e){const t=ke({warn:(e==null?void 0:e.router)===void 0});return Ar(((e==null?void 0:e.router)||t).__store,e==null?void 0:e.select)}function ve(e){return!!(e!=null&&e.isNotFound)}function Nr(e){const t=ne({select:n=>`not-found-${n.location.pathname}-${n.status}`});return E.jsx(Dn,{getResetKey:()=>t,onCatch:(n,s)=>{var r;if(ve(n))(r=e.onCatch)==null||r.call(e,n,s);else throw n},errorComponent:({error:n})=>{var s;return(s=e.fallback)==null?void 0:s.call(e,n)},children:e.children})}function Qr(){return E.jsx("p",{children:"Not Found"})}function Fo(e){if(e.isRedirect=!0,e.statusCode=e.statusCode||e.code||301,e.headers=e.headers||{},e.throw)throw e;return e}function je(e){return!!(e!=null&&e.isRedirect)}function es(e){return!!(e!=null&&e.isRedirect)&&e.href}function Kr(){const e=ke(),t=I.useRef({router:e,mounted:!1}),n=ne({select:l=>Pt(l,["isLoading","location","resolvedLocation","isTransitioning"])}),[s,r]=I.useTransition(),i=ne({select:l=>l.matches.some(d=>d.status==="pending")}),o=Zn(n.isLoading),a=n.isLoading||s||i,c=Zn(a);return e.isServer||(e.startReactTransition=r),I.useEffect(()=>{const l=e.history.subscribe(e.load),d=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0});return e.state.location.href!==d.href&&e.commitLocation({...d,replace:!0}),()=>{l()}},[e,e.history]),nn(()=>{if(window.__TSR_DEHYDRATED__||t.current.router===e&&t.current.mounted)return;t.current={router:e,mounted:!0},(async()=>{try{await e.load()}catch(d){console.error(d)}})()},[e]),nn(()=>{if(o&&!n.isLoading){const l=e.state.location,d=e.state.resolvedLocation,g=d.href!==l.href;e.emit({type:"onLoad",fromLocation:d,toLocation:l,pathChanged:g})}},[o,e,n.isLoading]),nn(()=>{if(c&&!a){const l=e.state.location,d=e.state.resolvedLocation,g=d.href!==l.href;if(e.emit({type:"onResolved",fromLocation:d,toLocation:l,pathChanged:g}),e.__store.setState(h=>({...h,status:"idle",resolvedLocation:h.location})),document.querySelector&&e.state.location.hash!==""){const h=document.getElementById(e.state.location.hash);h&&h.scrollIntoView()}}},[a,c,e]),null}const Kt=I.createContext(void 0);function Wr(){const e=ke(),t=e.options.defaultPendingComponent?E.jsx(e.options.defaultPendingComponent,{}):null,n=e.state.matches.length?zt:I.Suspense,s=E.jsxs(n,{fallback:t,children:[E.jsx(Kr,{}),E.jsx(Xr,{})]});return e.options.InnerWrap?E.jsx(e.options.InnerWrap,{children:s}):s}function Xr(){const e=ne({select:n=>{var s;return(s=n.matches[0])==null?void 0:s.id}}),t=ne({select:n=>n.resolvedLocation.state.key});return E.jsx(Kt.Provider,{value:e,children:E.jsx(Dn,{getResetKey:()=>t,errorComponent:Qt,onCatch:n=>{$n(!1,n.message||n.toString())},children:e?E.jsx(As,{matchId:e}):null})})}function zt(e){return E.jsx(E.Fragment,{children:e.children})}function As({matchId:e}){var t,n;const s=ke(),r=ne({select:p=>{var v;return(v=p.matches.find(y=>y.id===e))==null?void 0:v.routeId}});Y(r);const i=s.routesById[r],o=i.options.pendingComponent??s.options.defaultPendingComponent,a=o?E.jsx(o,{}):null,c=i.options.errorComponent??s.options.defaultErrorComponent,l=i.options.onCatch??s.options.defaultOnCatch,d=i.isRoot?i.options.notFoundComponent??((t=s.options.notFoundRoute)==null?void 0:t.options.component):i.options.notFoundComponent,g=(!i.isRoot||i.options.wrapInSuspense)&&(i.options.wrapInSuspense??o??((n=i.options.errorComponent)==null?void 0:n.preload))?I.Suspense:zt,h=c?Dn:zt,u=d?Nr:zt,m=ne({select:p=>p.resolvedLocation.state.key});return E.jsx(Kt.Provider,{value:e,children:E.jsx(g,{fallback:a,children:E.jsx(h,{getResetKey:()=>m,errorComponent:c||Qt,onCatch:(p,v)=>{if(ve(p))throw p;l==null||l(p,v)},children:E.jsx(u,{fallback:p=>{if(!d||p.routeId&&p.routeId!==r||!p.routeId&&!i.isRoot)throw p;return I.createElement(d,p)},children:E.jsx(Jr,{matchId:e})})})})})}function Jr({matchId:e}){var t,n;const s=ke(),r=ne({select:c=>{var l;return(l=c.matches.find(d=>d.id===e))==null?void 0:l.routeId}}),i=s.routesById[r],o=ne({select:c=>Pt(c.matches.find(l=>l.id===e),["id","status","error","loadPromise","minPendingPromise"])}),a=(i.options.errorComponent??s.options.defaultErrorComponent)||Qt;if(o.status==="notFound"){let c;return ts(o.error)?c=(((t=s.options.errorSerializer)==null?void 0:t.deserialize)??ns)(o.error.data):c=o.error,Y(ve(c)),Ts(s,i,c)}if(o.status==="redirected")throw Y(je(o.error)),o.loadPromise;if(o.status==="error"){if(s.isServer)return E.jsx(a,{error:o.error,info:{componentStack:""}});throw ts(o.error)?(((n=s.options.errorSerializer)==null?void 0:n.deserialize)??ns)(o.error.data):o.error}if(o.status==="pending"){const c=i.options.pendingMinMs??s.options.defaultPendingMinMs;throw c&&!o.minPendingPromise&&(o.minPendingPromise=Ft(),s.isServer||(Promise.resolve().then(()=>{s.__store.setState(l=>({...l,matches:l.matches.map(d=>d.id===o.id?{...d,minPendingPromise:Ft()}:d)}))}),setTimeout(()=>{s.__store.setState(l=>({...l,matches:l.matches.map(d=>{var g;return d.id===o.id?{...d,minPendingPromise:((g=d.minPendingPromise)==null||g.resolve(),void 0)}:d})}))},c))),o.loadPromise}if(o.status==="success"){const c=i.options.component??s.options.defaultComponent;return c?E.jsx(c,{}):E.jsx(Yr,{})}Y(!1)}const Yr=I.memo(function(){const t=ke(),n=I.useContext(Kt),s=ne({select:l=>{var d;return(d=l.matches.find(g=>g.id===n))==null?void 0:d.routeId}}),r=t.routesById[s],{parentGlobalNotFound:i}=ne({select:l=>{const g=l.matches.find(h=>h.id===n);return Y(g),{parentGlobalNotFound:g.globalNotFound}}}),o=ne({select:l=>{var d;const g=l.matches,h=g.findIndex(u=>u.id===n);return(d=g[h+1])==null?void 0:d.id}});if(i)return Ts(t,r,void 0);if(!o)return null;const a=E.jsx(As,{matchId:o}),c=t.options.defaultPendingComponent?E.jsx(t.options.defaultPendingComponent,{}):null;return n===oe?E.jsx(I.Suspense,{fallback:c,children:a}):a});function Ts(e,t,n){return t.options.notFoundComponent?E.jsx(t.options.notFoundComponent,{data:n}):e.options.defaultNotFoundComponent?E.jsx(e.options.defaultNotFoundComponent,{data:n}):E.jsx(Qr,{})}function ts(e){return!(typeof e=="object"&&e&&"data"in e)||!("__isServerError"in e&&e.__isServerError)||!(typeof e.data=="object"&&e.data)?!1:e.__isServerError===!0}function ns(e){if("name"in e&&"message"in e){const t=new Error(e.message);return t.name=e.name,t}return e.data}function Zr({router:e,children:t,...n}){e.update({...e.options,...n,context:{...e.options.context,...n.context}});const s=Vs(),r=E.jsx(s.Provider,{value:e,children:t});return e.options.Wrap?E.jsx(e.options.Wrap,{children:r}):r}function Mo({router:e,...t}){return E.jsx(Zr,{router:e,...t,children:E.jsx(Wr,{})})}function At(e,t){return[...e.cachedMatches,...e.pendingMatches??[],...e.matches].find(n=>n.id===t)}function He(e){return Wt(e.filter(Boolean).join("/"))}function Wt(e){return e.replace(/\/{2,}/g,"/")}function Vn(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function wt(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function ei(e){return wt(Vn(e))}function Nt(e,t){return e.endsWith("/")&&e!=="/"&&e!==`${t}/`?e.slice(0,-1):e}function ti(e,t,n){return Nt(e,n)===Nt(t,n)}function ni({basepath:e,base:t,to:n,trailingSlash:s="never"}){var r,i;t=t.replace(new RegExp(`^${e}`),"/"),n=n.replace(new RegExp(`^${e}`),"/");let o=mt(t);const a=mt(n);o.length>1&&((r=ze(o))==null?void 0:r.value)==="/"&&o.pop(),a.forEach((l,d)=>{l.value==="/"?d?d===a.length-1&&o.push(l):o=[l]:l.value===".."?o.pop():l.value==="."||o.push(l)}),o.length>1&&(((i=ze(o))==null?void 0:i.value)==="/"?s==="never"&&o.pop():s==="always"&&o.push({type:"pathname",value:"/"}));const c=He([e,...o.map(l=>l.value)]);return Wt(c)}function mt(e){if(!e)return[];e=Wt(e);const t=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),!e)return t;const n=e.split("/").filter(Boolean);return t.push(...n.map(s=>s==="$"||s==="*"?{type:"wildcard",value:s}:s.charAt(0)==="$"?{type:"param",value:s}:{type:"pathname",value:s})),e.slice(-1)==="/"&&(e=e.substring(1),t.push({type:"pathname",value:"/"})),t}function sn({path:e,params:t,leaveWildcards:n,leaveParams:s}){const r=mt(e),i={};for(const[o,a]of Object.entries(t)){const c=typeof a=="string";["*","_splat"].includes(o)?i[o]=c?encodeURI(a):a:i[o]=c?encodeURIComponent(a):a}return He(r.map(o=>{if(o.type==="wildcard"){const a=i._splat;return n?`${o.value}${a??""}`:a}if(o.type==="param"){if(s){const a=i[o.value];return`${o.value}${a??""}`}return i[o.value.substring(1)]??"undefined"}return o.value}))}function Tt(e,t,n){const s=si(e,t,n);if(!(n.to&&!s))return s??{}}function ss(e,t){switch(!0){case e==="/":return t;case t===e:return"";case t.length<e.length:return t;case t[e.length]!=="/":return t;case t.startsWith(e):return t.slice(e.length);default:return t}}function si(e,t,n){t=ss(e,t);const s=ss(e,`${n.to??"$"}`),r=mt(t),i=mt(s);t.startsWith("/")||r.unshift({type:"pathname",value:"/"}),s.startsWith("/")||i.unshift({type:"pathname",value:"/"});const o={};return(()=>{for(let c=0;c<Math.max(r.length,i.length);c++){const l=r[c],d=i[c],g=c>=r.length-1,h=c>=i.length-1;if(d){if(d.type==="wildcard"){if(l!=null&&l.value){const u=decodeURI(He(r.slice(c).map(m=>m.value)));return o["*"]=u,o._splat=u,!0}return!1}if(d.type==="pathname"){if(d.value==="/"&&!(l!=null&&l.value))return!0;if(l){if(n.caseSensitive){if(d.value!==l.value)return!1}else if(d.value.toLowerCase()!==l.value.toLowerCase())return!1}}if(!l)return!1;if(d.type==="param"){if(l.value==="/")return!1;l.value.charAt(0)!=="$"&&(o[d.value.substring(1)]=decodeURIComponent(l.value))}}if(!g&&h)return o["**"]=He(r.slice(c+1).map(u=>u.value)),!!n.fuzzy&&(d==null?void 0:d.value)!=="/"}return!0})()?o:void 0}const ri=["component","errorComponent","pendingComponent","notFoundComponent"];function xo(e){return new ii(e)}class ii{constructor(t){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.latestLoadPromise=Promise.resolve(),this.subscribers=new Set,this.isServer=typeof document>"u",this.startReactTransition=n=>n(),this.update=n=>{n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options;this.options={...this.options,...n},(!this.basepath||n.basepath&&n.basepath!==s.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath=`/${ei(n.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(typeof document<"u"?Or():Dr({initialEntries:[this.options.basepath||"/"]})),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new Vr(li(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(r=>!["redirected"].includes(r.status))}}}))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const n=this.options.notFoundRoute;n&&(n.init({originalIndex:99999999999}),this.routesById[n.id]=n);const s=o=>{o.forEach((a,c)=>{a.init({originalIndex:c});const l=this.routesById[a.id];if(Y(!l,`Duplicate routes found with id: ${String(a.id)}`),this.routesById[a.id]=a,!a.isRoot&&a.path){const g=wt(a.fullPath);(!this.routesByPath[g]||a.fullPath.endsWith("/"))&&(this.routesByPath[g]=a)}const d=a.children;d!=null&&d.length&&s(d)})};s([this.routeTree]);const r=[];Object.values(this.routesById).forEach((o,a)=>{var c;if(o.isRoot||!o.path)return;const l=Vn(o.fullPath),d=mt(l);for(;d.length>1&&((c=d[0])==null?void 0:c.value)==="/";)d.shift();const g=d.map(h=>h.value==="/"?.75:h.type==="param"?.5:h.type==="wildcard"?.25:1);r.push({child:o,trimmed:l,parsed:d,index:a,scores:g})}),this.flatRoutes=r.sort((o,a)=>{const c=Math.min(o.scores.length,a.scores.length);for(let l=0;l<c;l++)if(o.scores[l]!==a.scores[l])return a.scores[l]-o.scores[l];if(o.scores.length!==a.scores.length)return a.scores.length-o.scores.length;for(let l=0;l<c;l++)if(o.parsed[l].value!==a.parsed[l].value)return o.parsed[l].value>a.parsed[l].value?1:-1;return o.index-a.index}).map((o,a)=>(o.child.rank=a,o.child))},this.subscribe=(n,s)=>{const r={eventType:n,fn:s};return this.subscribers.add(r),()=>{this.subscribers.delete(r)}},this.emit=n=>{this.subscribers.forEach(s=>{s.eventType===n.type&&s.fn(n)})},this.checkLatest=n=>{if(this.latestLoadPromise!==n)throw this.latestLoadPromise},this.parseLocation=n=>{const s=({pathname:a,search:c,hash:l,state:d})=>{const g=this.options.parseSearch(c),h=this.options.stringifySearch(g);return{pathname:a,searchStr:h,search:me(n==null?void 0:n.search,g),hash:l.split("#").reverse()[0]??"",href:`${a}${h}${l}`,state:me(n==null?void 0:n.state,d)}},r=s(this.history.location),{__tempLocation:i,__tempKey:o}=r.state;if(i&&(!o||o===this.tempLocationKey)){const a=s(i);return a.state.key=r.state.key,delete a.state.__tempLocation,{...a,maskedLocation:r}}return r},this.resolvePathWithBase=(n,s)=>ni({basepath:this.basepath,base:n,to:Wt(s),trailingSlash:this.options.trailingSlash}),this.matchRoutes=(n,s,r)=>{let i={};const o=this.flatRoutes.find(u=>{const m=Tt(this.basepath,wt(n),{to:u.fullPath,caseSensitive:u.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});return m?(i=m,!0):!1});let a=o||this.routesById[oe];const c=[a];let l=!1;for((o?o.path!=="/"&&i["**"]:wt(n))&&(this.options.notFoundRoute?c.push(this.options.notFoundRoute):l=!0);a.parentRoute;)a=a.parentRoute,c.unshift(a);const d=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let u=c.length-1;u>=0;u--){const m=c[u];if(m.children)return m.id}return oe}})(),g=c.map(u=>{let m;if(u.options.parseParams)try{const p=u.options.parseParams(i);Object.assign(i,p)}catch(p){if(m=new ai(p.message,{cause:p}),r!=null&&r.throwOnError)throw m;return m}}),h=[];return c.forEach((u,m)=>{var p,v,y,C,S,R,_,L,H,P;const D=h[m-1],[O,B]=(()=>{const Z=(D==null?void 0:D.search)??s;try{const re=typeof u.options.validateSearch=="object"?u.options.validateSearch.parse:u.options.validateSearch,we=(re==null?void 0:re(Z))??{};return[{...Z,...we},void 0]}catch(re){const we=new oi(re.message,{cause:re});if(r!=null&&r.throwOnError)throw we;return[Z,we]}})(),V=((v=(p=u.options).loaderDeps)==null?void 0:v.call(p,{search:O}))??"",se=V?JSON.stringify(V):"",W=sn({path:u.fullPath,params:i}),T=sn({path:u.id,params:i,leaveWildcards:!0})+se,k=At(this.state,T),xe=this.state.matches.find(Z=>Z.id===T)?"stay":"enter";let q;if(k)q={...k,cause:xe,params:i};else{const Z=u.options.loader||u.options.beforeLoad?"pending":"success",re=Ft();Z==="success"&&re.resolve(),q={id:T,routeId:u.id,params:i,pathname:He([this.basepath,W]),updatedAt:Date.now(),search:{},searchError:void 0,status:"pending",isFetching:!1,error:void 0,paramsError:g[m],loaderPromise:Promise.resolve(),loadPromise:re,routeContext:void 0,context:void 0,abortController:new AbortController,fetchCount:0,cause:xe,loaderDeps:V,invalid:!1,preload:!1,links:(C=(y=u.options).links)==null?void 0:C.call(y),scripts:(R=(S=u.options).scripts)==null?void 0:R.call(S),staticData:u.options.staticData||{}}}q.status==="success"&&(q.meta=(L=(_=u.options).meta)==null?void 0:L.call(_,{matches:h,params:q.params,loaderData:q.loaderData}),q.headers=(P=(H=u.options).headers)==null?void 0:P.call(H,{loaderData:q.loaderData})),r!=null&&r.preload||(q.globalNotFound=d===u.id),q.search=me(q.search,O),q.searchError=B,h.push(q)}),h},this.cancelMatch=n=>{var s;(s=At(this.state,n))==null||s.abortController.abort()},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(s=>{this.cancelMatch(s.id)})},this.buildLocation=n=>{const s=(i={},o)=>{var a,c,l;const d=this.state.isLoading?this.state.resolvedLocation:this.latestLocation,g=i._fromLocation??d;let h=g.pathname,u=i.fromSearch||g.search;const m=this.matchRoutes(g.pathname,u),p=i.from!=null?m.find(T=>Tt(this.basepath,wt(T.pathname),{to:i.from,caseSensitive:!1,fuzzy:!1})):void 0;h=(p==null?void 0:p.pathname)||h,Y(i.from==null||p!=null,"Could not find match for from: "+i.from),u=((a=ze(m))==null?void 0:a.search)||this.latestLocation.search;const v=o==null?void 0:o.filter(T=>m.find(k=>k.routeId===T.routeId)),y=this.routesById[(c=v==null?void 0:v.find(T=>T.pathname===h))==null?void 0:c.routeId];let C=i.to?this.resolvePathWithBase(h,`${i.to}`):this.resolvePathWithBase(h,(y==null?void 0:y.to)??h);const S={...(l=ze(m))==null?void 0:l.params};let R=(i.params??!0)===!0?S:{...S,...Ze(i.params,S)};Object.keys(R).length>0&&(o==null||o.map(T=>this.looseRoutesById[T.routeId].options.stringifyParams).filter(Boolean).forEach(T=>{R={...R,...T(R)}})),C=sn({path:C,params:R??{},leaveWildcards:!1,leaveParams:n.leaveParams});const _=(v==null?void 0:v.map(T=>this.looseRoutesById[T.routeId].options.preSearchFilters??[]).flat().filter(Boolean))??[],L=(v==null?void 0:v.map(T=>this.looseRoutesById[T.routeId].options.postSearchFilters??[]).flat().filter(Boolean))??[],H=_.length?_.reduce((T,k)=>k(T),u):u,P=i.search===!0?H:i.search?Ze(i.search,H):_.length?H:{},D=L.length?L.reduce((T,k)=>k(T),P):P,O=me(u,D),B=this.options.stringifySearch(O),V=i.hash===!0?this.latestLocation.hash:i.hash?Ze(i.hash,this.latestLocation.hash):void 0,se=V?`#${V}`:"";let W=i.state===!0?this.latestLocation.state:i.state?Ze(i.state,this.latestLocation.state):{};return W=me(this.latestLocation.state,W),{pathname:C,search:O,searchStr:B,state:W,hash:V??"",href:`${C}${B}${se}`,unmaskOnReload:i.unmaskOnReload}},r=(i={},o)=>{var a;const c=s(i);let l=o?s(o):void 0;if(!l){let m={};const p=(a=this.options.routeMasks)==null?void 0:a.find(v=>{const y=Tt(this.basepath,c.pathname,{to:v.from,caseSensitive:!1,fuzzy:!1});return y?(m=y,!0):!1});if(p){const{from:v,...y}=p;o={...Pt(n,["from"]),...y,params:m},l=s(o)}}const d=this.matchRoutes(c.pathname,c.search),g=l?this.matchRoutes(l.pathname,l.search):void 0,h=l?s(o,g):void 0,u=s(i,d);return h&&(u.maskedLocation=h),u};return n.mask?r(n,{...Pt(n,["from"]),...n.mask}):r(n)},this.commitLocation=async({startTransition:n,viewTransition:s,ignoreBlocker:r,...i})=>{const o=()=>{i.state.key=this.latestLocation.state.key;const c=tt(i.state,this.latestLocation.state);return delete i.state.key,c};if(this.latestLocation.href===i.href&&o())this.load();else{let{maskedLocation:c,...l}=i;c&&(l={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...l,search:l.searchStr,state:{...l.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(l.unmaskOnReload??this.options.unmaskOnReload??!1)&&(l.state.__tempKey=this.tempLocationKey)),this.shouldViewTransition=s,this.history[i.replace?"replace":"push"](l.href,l.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.latestLoadPromise},this.buildAndCommitLocation=({replace:n,resetScroll:s,startTransition:r,viewTransition:i,ignoreBlocker:o,...a}={})=>{const c=this.buildLocation(a);return this.commitLocation({...c,startTransition:r,viewTransition:i,replace:n,resetScroll:s,ignoreBlocker:o})},this.navigate=({from:n,to:s,__isRedirect:r,...i})=>{const o=String(s);let a;try{new URL(`${o}`),a=!0}catch{}return Y(!a),this.buildAndCommitLocation({...i,from:n,to:s})},this.load=async()=>{if(this.latestLocation=this.parseLocation(this.latestLocation),this.state.location===this.latestLocation)return;const n=Ft();this.latestLoadPromise=n;let s,r;return this.startReactTransition(async()=>{try{const i=this.latestLocation,o=this.state.resolvedLocation,a=o.href!==i.href;this.cancelMatches();let c;this.__store.batch(()=>{c=this.matchRoutes(i.pathname,i.search),this.__store.setState(l=>({...l,status:"pending",isLoading:!0,location:i,pendingMatches:c,cachedMatches:l.cachedMatches.filter(d=>!c.find(g=>g.id===d.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:o,toLocation:i,pathChanged:a}),this.emit({type:"onBeforeLoad",fromLocation:o,toLocation:i,pathChanged:a}),await this.loadMatches({matches:c,location:i,checkLatest:()=>this.checkLatest(n),onReady:async()=>{await this.startViewTransition(async()=>{let l,d,g;this.__store.batch(()=>{this.__store.setState(h=>{const u=h.matches,m=h.pendingMatches||h.matches;return l=u.filter(p=>!m.find(v=>v.id===p.id)),d=m.filter(p=>!u.find(v=>v.id===p.id)),g=u.filter(p=>m.find(v=>v.id===p.id)),{...h,isLoading:!1,matches:m,pendingMatches:void 0,cachedMatches:[...h.cachedMatches,...l.filter(p=>p.status!=="error")]}}),this.cleanCache()}),[[l,"onLeave"],[d,"onEnter"],[g,"onStay"]].forEach(([h,u])=>{h.forEach(m=>{var p,v;(v=(p=this.looseRoutesById[m.routeId].options)[u])==null||v.call(p,m)})})})}})}catch(i){es(i)?(s=i,this.isServer||this.navigate({...i,replace:!0,__isRedirect:!0})):ve(i)&&(r=i),this.__store.setState(o=>({...o,statusCode:s?s.statusCode:r?404:o.matches.some(a=>a.status==="error")?500:200,redirect:s}))}n.resolve()}),this.latestLoadPromise},this.startViewTransition=async n=>{var s,r;const i=this.shouldViewTransition??this.options.defaultViewTransition;delete this.shouldViewTransition,(r=(s=i&&typeof document<"u"?document:void 0)==null?void 0:s.startViewTransition)!=null&&r.call(s,n)||n()},this.loadMatches=async({checkLatest:n,location:s,matches:r,preload:i,onReady:o})=>{let a,c=!1;const l=async()=>{c||(c=!0,await(o==null?void 0:o()))};!this.isServer&&!this.state.matches.length&&l();const d=(h,u,m)=>{var p;let v;const y=(p=this.state.pendingMatches)==null?void 0:p.find(R=>R.id===h),C=this.state.matches.find(R=>R.id===h),S=y?"pendingMatches":C?"matches":"cachedMatches";return this.__store.setState(R=>{var _;return{...R,[S]:(_=R[S])==null?void 0:_.map(L=>L.id===h?v=u(L):L)}}),v},g=(h,u)=>{if(es(u))throw u;if(je(u)||ve(u)){if(d(h.id,m=>({...m,status:je(u)?"redirected":ve(u)?"notFound":"error",isFetching:!1,error:u})),u.routeId||(u.routeId=h.routeId),je(u))throw c=!0,u=this.resolveRedirect({...u,_fromLocation:s}),u;if(ve(u))throw this.handleNotFound(r,u),u}};try{await new Promise((h,u)=>{(async()=>{try{for(let[v,y]of r.entries()){const C=r[v-1],S=this.looseRoutesById[y.routeId],R=new AbortController;let _=y.loadPromise;const L=S.options.pendingMs??this.options.defaultPendingMs;if(!!(o&&!this.isServer&&!i&&(S.options.loader||S.options.beforeLoad)&&typeof L=="number"&&L!==1/0&&(S.options.pendingComponent??this.options.defaultPendingComponent))&&setTimeout(()=>{try{n(),l()}catch{}},L),y.isFetching)continue;const P=_.resolve;_=Ft(P),r[v]=y=d(y.id,O=>({...O,isFetching:"beforeLoad",loadPromise:_}));const D=(O,B)=>{var V,se;if(O instanceof Promise)throw O;O.routerCode=B,a=a??v,g(y,O);try{(se=(V=S.options).onError)==null||se.call(V,O)}catch(W){O=W,g(y,O)}r[v]=y=d(y.id,()=>({...y,error:O,status:"error",updatedAt:Date.now(),abortController:new AbortController}))};y.paramsError&&D(y.paramsError,"PARSE_PARAMS"),y.searchError&&D(y.searchError,"VALIDATE_SEARCH");try{const O=(C==null?void 0:C.context)??this.options.context??{};r[v]=y={...y,routeContext:me(y.routeContext,O),context:me(y.context,O),abortController:R};const B={search:y.search,abortController:R,params:y.params,preload:!!i,context:y.routeContext,location:s,navigate:W=>this.navigate({...W,_fromLocation:s}),buildLocation:this.buildLocation,cause:i?"preload":y.cause},V=S.options.beforeLoad?await S.options.beforeLoad(B)??{}:{};n(),(je(V)||ve(V))&&D(V,"BEFORE_LOAD");const se={...O,...V};r[v]=y={...y,routeContext:me(y.routeContext,V),context:me(y.context,se),abortController:R},d(y.id,()=>y)}catch(O){D(O,"BEFORE_LOAD");break}}n();const m=r.slice(0,a),p=[];m.forEach((v,y)=>{const C=async()=>{const S=p[y-1],R=this.looseRoutesById[v.routeId],_={params:v.params,deps:v.loaderDeps,preload:!!i,parentMatchPromise:S,abortController:v.abortController,context:v.context,location:s,navigate:V=>this.navigate({...V,_fromLocation:s}),cause:i?"preload":v.cause,route:R},L=async()=>{var V,se,W,T,k,xe,q,Z,re;const we=At(this.state,v.id);let Je=Promise.resolve(),bt=Promise.resolve(),St=we.loaderPromise;const Ot=async()=>{const j=At(this.state,v.id);j!=null&&j.minPendingPromise&&(await j.minPendingPromise,n(),d(j.id,ge=>({...ge,minPendingPromise:void 0})))};try{v.isFetching==="beforeLoad"&&(r[y]=v=d(v.id,le=>({...le,isFetching:"loader",fetchCount:v.fetchCount+1})),Je=((V=R.lazyFn)==null?void 0:V.call(R).then(le=>{Object.assign(R.options,le.options)}))||Promise.resolve(),bt=Je.then(()=>Promise.all(ri.map(async le=>{const Ye=R.options[le];Ye!=null&&Ye.preload&&await Ye.preload()}))),await Je,n(),St=(W=(se=R.options).loader)==null?void 0:W.call(se,_),r[y]=v=d(v.id,le=>({...le,loaderPromise:St})));const j=await St;n(),g(v,j),await Ot(),n();const ge=(k=(T=R.options).meta)==null?void 0:k.call(T,{matches:r,params:v.params,loaderData:j}),pe=(q=(xe=R.options).headers)==null?void 0:q.call(xe,{loaderData:j});r[y]=v=d(v.id,le=>({...le,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:j,meta:ge,headers:pe}))}catch(j){n();let ge=j;await Ot(),n(),g(v,j);try{(re=(Z=R.options).onError)==null||re.call(Z,j)}catch(pe){ge=pe,g(v,pe)}r[y]=v=d(v.id,pe=>({...pe,error:ge,status:"error",isFetching:!1}))}await bt,n(),v.loadPromise.resolve()},H=Date.now()-v.updatedAt,P=i?R.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:R.options.staleTime??this.options.defaultStaleTime??0,D=R.options.shouldReload,O=typeof D=="function"?D(_):D;r[y]=v={...v,preload:!!i&&!this.state.matches.find(V=>V.id===v.id)};const B=async()=>{try{await L()}catch(V){n(),g(v,V)}};if(v.status==="success"&&(v.invalid||(O??H>P))){(async()=>{try{await B()}catch{}})();return}v.status!=="success"&&await B()};p.push(C())}),await Promise.all(p),n(),h()}catch(m){u(m)}})()}),await l()}catch(h){if(je(h)||ve(h))throw ve(h)&&!i&&await l(),h}return r},this.invalidate=()=>{const n=s=>({...s,invalid:!0,...s.status==="error"?{status:"pending"}:{}});return this.__store.setState(s=>{var r;return{...s,matches:s.matches.map(n),cachedMatches:s.cachedMatches.map(n),pendingMatches:(r=s.pendingMatches)==null?void 0:r.map(n)}}),this.load()},this.resolveRedirect=n=>{const s=n;return s.href||(s.href=this.buildLocation(s).href),s},this.cleanCache=()=>{this.__store.setState(n=>({...n,cachedMatches:n.cachedMatches.filter(s=>{const r=this.looseRoutesById[s.routeId];if(!r.options.loader)return!1;const i=(s.preload?r.options.preloadGcTime??this.options.defaultPreloadGcTime:r.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return s.status!=="error"&&Date.now()-s.updatedAt<i})}))},this.preloadRoute=async n=>{const s=this.buildLocation(n);let r=this.matchRoutes(s.pathname,s.search,{throwOnError:!0,preload:!0});const i=Object.fromEntries([...this.state.matches,...this.state.pendingMatches??[],...this.state.cachedMatches].map(l=>[l.id,!0]));this.__store.batch(()=>{r.forEach(l=>{i[l.id]||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,l]}))})});const o=ze(r),a=ze(this.state.matches),c=ze(this.state.pendingMatches??[]);if(!(o&&((a==null?void 0:a.id)===o.id||(c==null?void 0:c.id)===o.id)))try{return r=await this.loadMatches({matches:r,location:s,preload:!0,checkLatest:()=>{}}),r}catch(l){if(je(l))return await this.preloadRoute({...l,_fromLocation:s});console.error(l);return}},this.matchRoute=(n,s)=>{const r={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},i=this.buildLocation(r);if(s!=null&&s.pending&&this.state.status!=="pending")return!1;const a=((s==null?void 0:s.pending)===void 0?!this.state.isLoading:s.pending)?this.latestLocation:this.state.resolvedLocation,c=Tt(this.basepath,a.pathname,{...s,to:i.pathname});return!c||n.params&&!tt(c,n.params,!0)?!1:c&&((s==null?void 0:s.includeSearch)??!0)?tt(a.search,i.search,!0)?c:!1:c},this.registeredDeferredsIds=new Map,this.registeredDeferreds=new WeakMap,this.getDeferred=n=>{const s=this.registeredDeferredsIds.get(n);if(s)return this.registeredDeferreds.get(s)},this.dehydrate=()=>{var n;const s=((n=this.options.errorSerializer)==null?void 0:n.serialize)??ui;return{state:{dehydratedMatches:this.state.matches.map(r=>({...Pt(r,["id","status","updatedAt","loaderData"]),error:r.error?{data:s(r.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=async n=>{var s,r,i;let o=n;typeof document<"u"&&(o=(s=window.__TSR_DEHYDRATED__)==null?void 0:s.data),Y(o);const a=this.options.transformer.parse(o);this.dehydratedData=a.payload,(i=(r=this.options).hydrate)==null||i.call(r,a.payload);const c=a.router.state,l=this.matchRoutes(this.state.location.pathname,this.state.location.search).map((d,g,h)=>{var u,m,p,v,y,C;const S=c.dehydratedMatches.find(L=>L.id===d.id);Y(S,`Could not find a client-side match for dehydrated match with id: ${d.id}!`);const R=this.looseRoutesById[d.routeId],_=S.status==="notFound"||S.status==="redirected"?{}:{meta:(m=(u=R.options).meta)==null?void 0:m.call(u,{matches:h,params:d.params,loaderData:S.loaderData}),links:(v=(p=R.options).links)==null?void 0:v.call(p),scripts:(C=(y=R.options).scripts)==null?void 0:C.call(y)};return{...d,...S,..._}});this.__store.setState(d=>({...d,matches:l})),this.manifest=a.router.manifest},this.handleNotFound=(n,s)=>{const r=Object.fromEntries(n.map(a=>[a.routeId,a]));let i=(s.global?this.looseRoutesById[oe]:this.looseRoutesById[s.routeId])||this.looseRoutesById[oe];for(;!i.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&i.id!==oe;)i=i.parentRoute,Y(i);const o=r[i.id];Y(o,"Could not find match for route: "+i.id),Object.assign(o,{status:"notFound",error:s,isFetching:!1})},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,stringifySearch:t.stringifySearch??jr,parseSearch:t.parseSearch??kr,transformer:t.transformer??JSON}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}}class oi extends Error{}class ai extends Error{}function li(e){return{isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...e},location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function ui(e){return e instanceof Error?{name:e.name,message:e.message}:{data:e}}function vt(e){const t=I.useContext(Kt);return ne({select:s=>{const r=s.matches.find(i=>e.from?e.from===i.routeId:i.id===t);return Y(r,`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),e.select?e.select(r):r}})}function ci(e){return vt({...e,select:t=>typeof e.select=="function"?e.select(t.loaderDeps):t.loaderDeps})}function di(e){return vt({...e,select:t=>typeof e.select=="function"?e.select(t.loaderData):t.loaderData})}function hi(e){return vt({...e,select:t=>e.select?e.select(t.params):t.params})}function fi(e){return vt({...e,select:t=>e.select?e.select(t.search):t.search})}function gi(e){const t=ke();return I.useCallback(n=>t.navigate({...n}),[t])}class Hs{constructor(t){this.init=n=>{var s,r;this.originalIndex=n.originalIndex;const i=this.options,o=!(i!=null&&i.path)&&!(i!=null&&i.id);this.parentRoute=(r=(s=this.options)==null?void 0:s.getParentRoute)==null?void 0:r.call(s),o?this.path=oe:Y(this.parentRoute);let a=o?oe:i.path;a&&a!=="/"&&(a=Vn(a));const c=(i==null?void 0:i.id)||a;let l=o?oe:He([this.parentRoute.id===oe?"":this.parentRoute.id,c]);a===oe&&(a="/"),l!==oe&&(l=He(["/",l]));const d=l===oe?"/":He([this.parentRoute.fullPath,a]);this.path=a,this.id=l,this.fullPath=d,this.to=d},this.addChildren=n=>(this.children=Array.isArray(n)?n:Object.values(n),this),this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.useMatch=n=>vt({...n,from:this.id}),this.useRouteContext=n=>vt({...n,from:this.id,select:s=>n!=null&&n.select?n.select(s.context):s.context}),this.useSearch=n=>fi({...n,from:this.id}),this.useParams=n=>hi({...n,from:this.id}),this.useLoaderDeps=n=>ci({...n,from:this.id}),this.useLoaderData=n=>di({...n,from:this.id}),this.useNavigate=()=>gi({from:this.id}),this.options=t||{},this.isRoot=!(t!=null&&t.getParentRoute),Y(!(t!=null&&t.id&&(t!=null&&t.path))),this.$$typeof=Symbol.for("react.memo")}}function pi(e){return new Hs(e)}function Io(){return e=>vi(e)}class mi extends Hs{constructor(t){super(t)}}function vi(e){return new mi(e)}function Eo(e){return new yi(e,{silent:!0}).createRoute}class yi{constructor(t,n){this.path=t,this.createRoute=s=>{$n(this.silent);const r=pi(s);return r.isRoot=!1,r},this.silent=n==null?void 0:n.silent}}const Si="Error preloading route! ";function Ri(e){const t=ke(),[n,s]=I.useState(!1),{activeProps:r=()=>({className:"active"}),inactiveProps:i=()=>({}),activeOptions:o,hash:a,search:c,params:l,to:d,state:g,mask:h,preload:u,preloadDelay:m,replace:p,startTransition:v,resetScroll:y,viewTransition:C,children:S,target:R,disabled:_,style:L,className:H,onClick:P,onFocus:D,onMouseEnter:O,onMouseLeave:B,onTouchStart:V,ignoreBlocker:se,...W}=e;let T="internal";try{new URL(`${d}`),T="external"}catch{}const k=t.buildLocation(e),xe=u??t.options.defaultPreload,q=m??t.options.defaultPreloadDelay??0,Z=ne({select:U=>{const N=Nt(U.location.pathname,t.basepath).split("/"),Yt=Nt(k.pathname,t.basepath).split("/").every((Js,Ys)=>Js===N[Ys]),Ks=o!=null&&o.exact?ti(U.location.pathname,k.pathname,t.basepath):Yt,Ws=o!=null&&o.includeHash?U.location.hash===k.hash:!0,Xs=(o==null?void 0:o.includeSearch)??!0?tt(U.location.search,k.search,!(o!=null&&o.exact)):!0;return Ks&&Ws&&Xs}});if(T==="external")return{...W,type:T,href:d,...S&&{children:S},...R&&{target:R},..._&&{disabled:_},...L&&{style:L},...H&&{className:H},...P&&{onClick:P},...D&&{onFocus:D},...O&&{onMouseEnter:O},...B&&{onMouseLeave:B},...V&&{onTouchStart:V}};const re=U=>{if(!_&&!Ci(U)&&!U.defaultPrevented&&(!R||R==="_self")&&U.button===0){U.preventDefault(),Zs.flushSync(()=>{s(!0)});const N=t.subscribe("onResolved",()=>{N(),s(!1)});t.commitLocation({...k,replace:p,resetScroll:y,startTransition:v,viewTransition:C,ignoreBlocker:se})}},we=()=>{t.preloadRoute(e).catch(U=>{console.warn(U),console.warn(Si)})},Je=U=>{_||xe&&we()},bt=Je,St=U=>{if(_)return;const N=U.target||{};if(xe){if(N.preloadTimeout)return;N.preloadTimeout=setTimeout(()=>{N.preloadTimeout=null,we()},q)}},Ot=U=>{if(_)return;const N=U.target||{};N.preloadTimeout&&(clearTimeout(N.preloadTimeout),N.preloadTimeout=null)},j=U=>N=>{var Jt;(Jt=N.persist)==null||Jt.call(N),U.filter(Boolean).forEach(Yt=>{N.defaultPrevented||Yt(N)})},ge=Z?Ze(r,{})??{}:{},pe=Z?{}:Ze(i,{}),le=[H,ge.className,pe.className].filter(Boolean).join(" "),Ye={...L,...ge.style,...pe.style};return{...ge,...pe,...W,href:_?void 0:k.maskedLocation?t.history.createHref(k.maskedLocation.href):t.history.createHref(k.href),onClick:j([P,re]),onFocus:j([D,Je]),onMouseEnter:j([O,St]),onMouseLeave:j([B,Ot]),onTouchStart:j([V,bt]),disabled:!!_,target:R,...Object.keys(Ye).length&&{style:Ye},...le&&{className:le},..._&&{role:"link","aria-disabled":!0},...Z&&{"data-status":"active","aria-current":"page"},...n&&{"data-transitioning":"transitioning"}}}const $o=I.forwardRef((e,t)=>{const{_asChild:n,...s}=e,{type:r,...i}=Ri(s),o=typeof s.children=="function"?s.children({isActive:i["data-status"]==="active"}):s.children;return typeof n>"u"&&delete i.disabled,I.createElement(n||"a",{...i,ref:t},o)});function Ci(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Te(e,t){return typeof e=="function"?e(t):e}function ae(e,t){return n=>{t.setState(s=>({...s,[e]:Te(n,s[e])}))}}function Xt(e){return e instanceof Function}function wi(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function _i(e,t){const n=[],s=r=>{r.forEach(i=>{n.push(i);const o=t(i);o!=null&&o.length&&s(o)})};return s(e),n}function M(e,t,n){let s=[],r;return i=>{let o;n.key&&n.debug&&(o=Date.now());const a=e(i);if(!(a.length!==s.length||a.some((d,g)=>s[g]!==d)))return r;s=a;let l;if(n.key&&n.debug&&(l=Date.now()),r=t(...a),n==null||n.onChange==null||n.onChange(r),n.key&&n.debug&&n!=null&&n.debug()){const d=Math.round((Date.now()-o)*100)/100,g=Math.round((Date.now()-l)*100)/100,h=g/16,u=(m,p)=>{for(m=String(m);m.length<p;)m=" "+m;return m};console.info(`%c ${u(g,5)} /${u(d,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*h,120))}deg 100% 31%);`,n==null?void 0:n.key)}return r}}function x(e,t,n,s){return{debug:()=>{var r;return(r=e==null?void 0:e.debugAll)!=null?r:e[t]},key:!1,onChange:s}}function Pi(e,t,n,s){const r=()=>{var o;return(o=i.getValue())!=null?o:e.options.renderFallbackValue},i={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(s),renderValue:r,getContext:M(()=>[e,n,t,i],(o,a,c,l)=>({table:o,column:a,row:c,cell:l,getValue:l.getValue,renderValue:l.renderValue}),x(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(i,n,t,e)},{}),i}function Fi(e,t,n,s){var r,i;const a={...e._getDefaultColumnDef(),...t},c=a.accessorKey;let l=(r=(i=a.id)!=null?i:c?c.replace(".","_"):void 0)!=null?r:typeof a.header=="string"?a.header:void 0,d;if(a.accessorFn?d=a.accessorFn:c&&(c.includes(".")?d=h=>{let u=h;for(const p of c.split(".")){var m;u=(m=u)==null?void 0:m[p]}return u}:d=h=>h[a.accessorKey]),!l)throw new Error;let g={id:`${String(l)}`,accessorFn:d,parent:s,depth:n,columnDef:a,columns:[],getFlatColumns:M(()=>[!0],()=>{var h;return[g,...(h=g.columns)==null?void 0:h.flatMap(u=>u.getFlatColumns())]},x(e.options,"debugColumns")),getLeafColumns:M(()=>[e._getOrderColumnsFn()],h=>{var u;if((u=g.columns)!=null&&u.length){let m=g.columns.flatMap(p=>p.getLeafColumns());return h(m)}return[g]},x(e.options,"debugColumns"))};for(const h of e._features)h.createColumn==null||h.createColumn(g,e);return g}const Q="debugHeaders";function rs(e,t,n){var s;let i={id:(s=n.id)!=null?s:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],a=c=>{c.subHeaders&&c.subHeaders.length&&c.subHeaders.map(a),o.push(c)};return a(i),o},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(i,e)}),i}const Mi={createTable:e=>{e.getHeaderGroups=M(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,s,r)=>{var i,o;const a=(i=s==null?void 0:s.map(g=>n.find(h=>h.id===g)).filter(Boolean))!=null?i:[],c=(o=r==null?void 0:r.map(g=>n.find(h=>h.id===g)).filter(Boolean))!=null?o:[],l=n.filter(g=>!(s!=null&&s.includes(g.id))&&!(r!=null&&r.includes(g.id)));return Ht(t,[...a,...l,...c],e)},x(e.options,Q)),e.getCenterHeaderGroups=M(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,s,r)=>(n=n.filter(i=>!(s!=null&&s.includes(i.id))&&!(r!=null&&r.includes(i.id))),Ht(t,n,e,"center")),x(e.options,Q)),e.getLeftHeaderGroups=M(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,s)=>{var r;const i=(r=s==null?void 0:s.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?r:[];return Ht(t,i,e,"left")},x(e.options,Q)),e.getRightHeaderGroups=M(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,s)=>{var r;const i=(r=s==null?void 0:s.map(o=>n.find(a=>a.id===o)).filter(Boolean))!=null?r:[];return Ht(t,i,e,"right")},x(e.options,Q)),e.getFooterGroups=M(()=>[e.getHeaderGroups()],t=>[...t].reverse(),x(e.options,Q)),e.getLeftFooterGroups=M(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),x(e.options,Q)),e.getCenterFooterGroups=M(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),x(e.options,Q)),e.getRightFooterGroups=M(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),x(e.options,Q)),e.getFlatHeaders=M(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),x(e.options,Q)),e.getLeftFlatHeaders=M(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),x(e.options,Q)),e.getCenterFlatHeaders=M(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),x(e.options,Q)),e.getRightFlatHeaders=M(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),x(e.options,Q)),e.getCenterLeafHeaders=M(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),x(e.options,Q)),e.getLeftLeafHeaders=M(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),x(e.options,Q)),e.getRightLeafHeaders=M(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var s;return!((s=n.subHeaders)!=null&&s.length)}),x(e.options,Q)),e.getLeafHeaders=M(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,s)=>{var r,i,o,a,c,l;return[...(r=(i=t[0])==null?void 0:i.headers)!=null?r:[],...(o=(a=n[0])==null?void 0:a.headers)!=null?o:[],...(c=(l=s[0])==null?void 0:l.headers)!=null?c:[]].map(d=>d.getLeafHeaders()).flat()},x(e.options,Q))}};function Ht(e,t,n,s){var r,i;let o=0;const a=function(h,u){u===void 0&&(u=1),o=Math.max(o,u),h.filter(m=>m.getIsVisible()).forEach(m=>{var p;(p=m.columns)!=null&&p.length&&a(m.columns,u+1)},0)};a(e);let c=[];const l=(h,u)=>{const m={depth:u,id:[s,`${u}`].filter(Boolean).join("_"),headers:[]},p=[];h.forEach(v=>{const y=[...p].reverse()[0],C=v.column.depth===m.depth;let S,R=!1;if(C&&v.column.parent?S=v.column.parent:(S=v.column,R=!0),y&&(y==null?void 0:y.column)===S)y.subHeaders.push(v);else{const _=rs(n,S,{id:[s,u,S.id,v==null?void 0:v.id].filter(Boolean).join("_"),isPlaceholder:R,placeholderId:R?`${p.filter(L=>L.column===S).length}`:void 0,depth:u,index:p.length});_.subHeaders.push(v),p.push(_)}m.headers.push(v),v.headerGroup=m}),c.push(m),u>0&&l(p,u-1)},d=t.map((h,u)=>rs(n,h,{depth:o,index:u}));l(d,o-1),c.reverse();const g=h=>h.filter(m=>m.column.getIsVisible()).map(m=>{let p=0,v=0,y=[0];m.subHeaders&&m.subHeaders.length?(y=[],g(m.subHeaders).forEach(S=>{let{colSpan:R,rowSpan:_}=S;p+=R,y.push(_)})):p=1;const C=Math.min(...y);return v=v+C,m.colSpan=p,m.rowSpan=v,{colSpan:p,rowSpan:v}});return g((r=(i=c[0])==null?void 0:i.headers)!=null?r:[]),c}const An=(e,t,n,s,r,i,o)=>{let a={id:t,index:s,original:n,depth:r,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:c=>{if(a._valuesCache.hasOwnProperty(c))return a._valuesCache[c];const l=e.getColumn(c);if(l!=null&&l.accessorFn)return a._valuesCache[c]=l.accessorFn(a.original,s),a._valuesCache[c]},getUniqueValues:c=>{if(a._uniqueValuesCache.hasOwnProperty(c))return a._uniqueValuesCache[c];const l=e.getColumn(c);if(l!=null&&l.accessorFn)return l.columnDef.getUniqueValues?(a._uniqueValuesCache[c]=l.columnDef.getUniqueValues(a.original,s),a._uniqueValuesCache[c]):(a._uniqueValuesCache[c]=[a.getValue(c)],a._uniqueValuesCache[c])},renderValue:c=>{var l;return(l=a.getValue(c))!=null?l:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>_i(a.subRows,c=>c.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let c=[],l=a;for(;;){const d=l.getParentRow();if(!d)break;c.push(d),l=d}return c.reverse()},getAllCells:M(()=>[e.getAllLeafColumns()],c=>c.map(l=>Pi(e,a,l,l.id)),x(e.options,"debugRows")),_getAllCellsByColumnId:M(()=>[a.getAllCells()],c=>c.reduce((l,d)=>(l[d.column.id]=d,l),{}),x(e.options,"debugRows"))};for(let c=0;c<e._features.length;c++){const l=e._features[c];l==null||l.createRow==null||l.createRow(a,e)}return a},xi={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Gs=(e,t,n)=>{var s;const r=n.toLowerCase();return!!(!((s=e.getValue(t))==null||(s=s.toString())==null||(s=s.toLowerCase())==null)&&s.includes(r))};Gs.autoRemove=e=>fe(e);const ks=(e,t,n)=>{var s;return!!(!((s=e.getValue(t))==null||(s=s.toString())==null)&&s.includes(n))};ks.autoRemove=e=>fe(e);const js=(e,t,n)=>{var s;return((s=e.getValue(t))==null||(s=s.toString())==null?void 0:s.toLowerCase())===(n==null?void 0:n.toLowerCase())};js.autoRemove=e=>fe(e);const zs=(e,t,n)=>{var s;return(s=e.getValue(t))==null?void 0:s.includes(n)};zs.autoRemove=e=>fe(e)||!(e!=null&&e.length);const Bs=(e,t,n)=>!n.some(s=>{var r;return!((r=e.getValue(t))!=null&&r.includes(s))});Bs.autoRemove=e=>fe(e)||!(e!=null&&e.length);const qs=(e,t,n)=>n.some(s=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(s)});qs.autoRemove=e=>fe(e)||!(e!=null&&e.length);const Us=(e,t,n)=>e.getValue(t)===n;Us.autoRemove=e=>fe(e);const Ns=(e,t,n)=>e.getValue(t)==n;Ns.autoRemove=e=>fe(e);const Tn=(e,t,n)=>{let[s,r]=n;const i=e.getValue(t);return i>=s&&i<=r};Tn.resolveFilterValue=e=>{let[t,n]=e,s=typeof t!="number"?parseFloat(t):t,r=typeof n!="number"?parseFloat(n):n,i=t===null||Number.isNaN(s)?-1/0:s,o=n===null||Number.isNaN(r)?1/0:r;if(i>o){const a=i;i=o,o=a}return[i,o]};Tn.autoRemove=e=>fe(e)||fe(e[0])&&fe(e[1]);const Pe={includesString:Gs,includesStringSensitive:ks,equalsString:js,arrIncludes:zs,arrIncludesAll:Bs,arrIncludesSome:qs,equals:Us,weakEquals:Ns,inNumberRange:Tn};function fe(e){return e==null||e===""}const Ii={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:ae("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],s=n==null?void 0:n.getValue(e.id);return typeof s=="string"?Pe.includesString:typeof s=="number"?Pe.inNumberRange:typeof s=="boolean"||s!==null&&typeof s=="object"?Pe.equals:Array.isArray(s)?Pe.arrIncludes:Pe.weakEquals},e.getFilterFn=()=>{var n,s;return Xt(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(s=t.options.filterFns)==null?void 0:s[e.columnDef.filterFn])!=null?n:Pe[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,s,r;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((s=t.options.enableColumnFilters)!=null?s:!0)&&((r=t.options.enableFilters)!=null?r:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(s=>s.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,s;return(n=(s=t.getState().columnFilters)==null?void 0:s.findIndex(r=>r.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(s=>{const r=e.getFilterFn(),i=s==null?void 0:s.find(d=>d.id===e.id),o=Te(n,i?i.value:void 0);if(is(r,o,e)){var a;return(a=s==null?void 0:s.filter(d=>d.id!==e.id))!=null?a:[]}const c={id:e.id,value:o};if(i){var l;return(l=s==null?void 0:s.map(d=>d.id===e.id?c:d))!=null?l:[]}return s!=null&&s.length?[...s,c]:[c]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),s=r=>{var i;return(i=Te(t,r))==null?void 0:i.filter(o=>{const a=n.find(c=>c.id===o.id);if(a){const c=a.getFilterFn();if(is(c,o.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(s)},e.resetColumnFilters=t=>{var n,s;e.setColumnFilters(t?[]:(n=(s=e.initialState)==null?void 0:s.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function is(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const Ei=(e,t,n)=>n.reduce((s,r)=>{const i=r.getValue(e);return s+(typeof i=="number"?i:0)},0),$i=(e,t,n)=>{let s;return n.forEach(r=>{const i=r.getValue(e);i!=null&&(s>i||s===void 0&&i>=i)&&(s=i)}),s},Li=(e,t,n)=>{let s;return n.forEach(r=>{const i=r.getValue(e);i!=null&&(s<i||s===void 0&&i>=i)&&(s=i)}),s},bi=(e,t,n)=>{let s,r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(s===void 0?o>=o&&(s=r=o):(s>o&&(s=o),r<o&&(r=o)))}),[s,r]},Oi=(e,t)=>{let n=0,s=0;if(t.forEach(r=>{let i=r.getValue(e);i!=null&&(i=+i)>=i&&(++n,s+=i)}),n)return s/n},Di=(e,t)=>{if(!t.length)return;const n=t.map(i=>i.getValue(e));if(!wi(n))return;if(n.length===1)return n[0];const s=Math.floor(n.length/2),r=n.sort((i,o)=>i-o);return n.length%2!==0?r[s]:(r[s-1]+r[s])/2},Vi=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),Ai=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,Ti=(e,t)=>t.length,rn={sum:Ei,min:$i,max:Li,extent:bi,mean:Oi,median:Di,unique:Vi,uniqueCount:Ai,count:Ti},Hi={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:ae("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(s=>s!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,s;return((n=e.columnDef.enableGrouping)!=null?n:!0)&&((s=t.options.enableGrouping)!=null?s:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],s=n==null?void 0:n.getValue(e.id);if(typeof s=="number")return rn.sum;if(Object.prototype.toString.call(s)==="[object Date]")return rn.extent},e.getAggregationFn=()=>{var n,s;if(!e)throw new Error;return Xt(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(s=t.options.aggregationFns)==null?void 0:s[e.columnDef.aggregationFn])!=null?n:rn[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,s;e.setGrouping(t?[]:(n=(s=e.initialState)==null?void 0:s.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const s=t.getColumn(n);return s!=null&&s.columnDef.getGroupingValue?(e._groupingValuesCache[n]=s.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,s)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var r;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((r=n.subRows)!=null&&r.length)}}};function Gi(e,t,n){if(!(t!=null&&t.length)||!n)return e;const s=e.filter(i=>!t.includes(i.id));return n==="remove"?s:[...t.map(i=>e.find(o=>o.id===i)).filter(Boolean),...s]}const ki={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:ae("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=M(n=>[Mt(t,n)],n=>n.findIndex(s=>s.id===e.id),x(t.options,"debugColumns")),e.getIsFirstColumn=n=>{var s;return((s=Mt(t,n)[0])==null?void 0:s.id)===e.id},e.getIsLastColumn=n=>{var s;const r=Mt(t,n);return((s=r[r.length-1])==null?void 0:s.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=M(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,s)=>r=>{let i=[];if(!(t!=null&&t.length))i=r;else{const o=[...t],a=[...r];for(;a.length&&o.length;){const c=o.shift(),l=a.findIndex(d=>d.id===c);l>-1&&i.push(a.splice(l,1)[0])}i=[...i,...a]}return Gi(i,n,s)},x(e.options,"debugTable"))}},on=()=>({left:[],right:[]}),ji={getInitialState:e=>({columnPinning:on(),...e}),getDefaultOptions:e=>({onColumnPinningChange:ae("columnPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const s=e.getLeafColumns().map(r=>r.id).filter(Boolean);t.setColumnPinning(r=>{var i,o;if(n==="right"){var a,c;return{left:((a=r==null?void 0:r.left)!=null?a:[]).filter(g=>!(s!=null&&s.includes(g))),right:[...((c=r==null?void 0:r.right)!=null?c:[]).filter(g=>!(s!=null&&s.includes(g))),...s]}}if(n==="left"){var l,d;return{left:[...((l=r==null?void 0:r.left)!=null?l:[]).filter(g=>!(s!=null&&s.includes(g))),...s],right:((d=r==null?void 0:r.right)!=null?d:[]).filter(g=>!(s!=null&&s.includes(g)))}}return{left:((i=r==null?void 0:r.left)!=null?i:[]).filter(g=>!(s!=null&&s.includes(g))),right:((o=r==null?void 0:r.right)!=null?o:[]).filter(g=>!(s!=null&&s.includes(g)))}})},e.getCanPin=()=>e.getLeafColumns().some(s=>{var r,i,o;return((r=s.columnDef.enablePinning)!=null?r:!0)&&((i=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:s,right:r}=t.getState().columnPinning,i=n.some(a=>s==null?void 0:s.includes(a)),o=n.some(a=>r==null?void 0:r.includes(a));return i?"left":o?"right":!1},e.getPinnedIndex=()=>{var n,s;const r=e.getIsPinned();return r?(n=(s=t.getState().columnPinning)==null||(s=s[r])==null?void 0:s.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=M(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,s,r)=>{const i=[...s??[],...r??[]];return n.filter(o=>!i.includes(o.column.id))},x(t.options,"debugRows")),e.getLeftVisibleCells=M(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(n,s)=>(s??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),x(t.options,"debugRows")),e.getRightVisibleCells=M(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,s)=>(s??[]).map(i=>n.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),x(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,s;return e.setColumnPinning(t?on():(n=(s=e.initialState)==null?void 0:s.columnPinning)!=null?n:on())},e.getIsSomeColumnsPinned=t=>{var n;const s=e.getState().columnPinning;if(!t){var r,i;return!!((r=s.left)!=null&&r.length||(i=s.right)!=null&&i.length)}return!!((n=s[t])!=null&&n.length)},e.getLeftLeafColumns=M(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(s=>t.find(r=>r.id===s)).filter(Boolean),x(e.options,"debugColumns")),e.getRightLeafColumns=M(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(s=>t.find(r=>r.id===s)).filter(Boolean),x(e.options,"debugColumns")),e.getCenterLeafColumns=M(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,s)=>{const r=[...n??[],...s??[]];return t.filter(i=>!r.includes(i.id))},x(e.options,"debugColumns"))}},Gt={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},an=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),zi={getDefaultColumnDef:()=>Gt,getInitialState:e=>({columnSizing:{},columnSizingInfo:an(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:ae("columnSizing",e),onColumnSizingInfoChange:ae("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,s,r;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:Gt.minSize,(s=i??e.columnDef.size)!=null?s:Gt.size),(r=e.columnDef.maxSize)!=null?r:Gt.maxSize)},e.getStart=M(n=>[n,Mt(t,n),t.getState().columnSizing],(n,s)=>s.slice(0,e.getIndex(n)).reduce((r,i)=>r+i.getSize(),0),x(t.options,"debugColumns")),e.getAfter=M(n=>[n,Mt(t,n),t.getState().columnSizing],(n,s)=>s.slice(e.getIndex(n)+1).reduce((r,i)=>r+i.getSize(),0),x(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:s,...r}=n;return r})},e.getCanResize=()=>{var n,s;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((s=t.options.enableColumnResizing)!=null?s:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const s=r=>{if(r.subHeaders.length)r.subHeaders.forEach(s);else{var i;n+=(i=r.column.getSize())!=null?i:0}};return s(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const s=t.getColumn(e.column.id),r=s==null?void 0:s.getCanResize();return i=>{if(!s||!r||(i.persist==null||i.persist(),ln(i)&&i.touches&&i.touches.length>1))return;const o=e.getSize(),a=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[s.id,s.getSize()]],c=ln(i)?Math.round(i.touches[0].clientX):i.clientX,l={},d=(y,C)=>{typeof C=="number"&&(t.setColumnSizingInfo(S=>{var R,_;const L=t.options.columnResizeDirection==="rtl"?-1:1,H=(C-((R=S==null?void 0:S.startOffset)!=null?R:0))*L,P=Math.max(H/((_=S==null?void 0:S.startSize)!=null?_:0),-.999999);return S.columnSizingStart.forEach(D=>{let[O,B]=D;l[O]=Math.round(Math.max(B+B*P,0)*100)/100}),{...S,deltaOffset:H,deltaPercentage:P}}),(t.options.columnResizeMode==="onChange"||y==="end")&&t.setColumnSizing(S=>({...S,...l})))},g=y=>d("move",y),h=y=>{d("end",y),t.setColumnSizingInfo(C=>({...C,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},u=n||typeof document<"u"?document:null,m={moveHandler:y=>g(y.clientX),upHandler:y=>{u==null||u.removeEventListener("mousemove",m.moveHandler),u==null||u.removeEventListener("mouseup",m.upHandler),h(y.clientX)}},p={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),g(y.touches[0].clientX),!1),upHandler:y=>{var C;u==null||u.removeEventListener("touchmove",p.moveHandler),u==null||u.removeEventListener("touchend",p.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),h((C=y.touches[0])==null?void 0:C.clientX)}},v=Bi()?{passive:!1}:!1;ln(i)?(u==null||u.addEventListener("touchmove",p.moveHandler,v),u==null||u.addEventListener("touchend",p.upHandler,v)):(u==null||u.addEventListener("mousemove",m.moveHandler,v),u==null||u.addEventListener("mouseup",m.upHandler,v)),t.setColumnSizingInfo(y=>({...y,startOffset:c,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:s.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?an():(n=e.initialState.columnSizingInfo)!=null?n:an())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((s,r)=>s+r.getSize(),0))!=null?t:0}}};let kt=null;function Bi(){if(typeof kt=="boolean")return kt;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return kt=e,kt}function ln(e){return e.type==="touchstart"}const qi={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:ae("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(s=>({...s,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,s;const r=e.columns;return(n=r.length?r.some(i=>i.getIsVisible()):(s=t.getState().columnVisibility)==null?void 0:s[e.id])!=null?n:!0},e.getCanHide=()=>{var n,s;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((s=t.options.enableHiding)!=null?s:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=M(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(s=>s.column.getIsVisible()),x(t.options,"debugRows")),e.getVisibleCells=M(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,s,r)=>[...n,...s,...r],x(t.options,"debugRows"))},createTable:e=>{const t=(n,s)=>M(()=>[s(),s().filter(r=>r.getIsVisible()).map(r=>r.id).join("_")],r=>r.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),x(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var s;e.setColumnVisibility(n?{}:(s=e.initialState.columnVisibility)!=null?s:{})},e.toggleAllColumnsVisible=n=>{var s;n=(s=n)!=null?s:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((r,i)=>({...r,[i.id]:n||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var s;e.toggleAllColumnsVisible((s=n.target)==null?void 0:s.checked)}}};function Mt(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Ui={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Ni={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:ae("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const s=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof s=="string"||typeof s=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var n,s,r,i;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((s=t.options.enableGlobalFilter)!=null?s:!0)&&((r=t.options.enableFilters)!=null?r:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>Pe.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:s}=e.options;return Xt(s)?s:s==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[s])!=null?t:Pe[s]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},Qi={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:ae("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var s,r;if(!t){e._queue(()=>{t=!0});return}if((s=(r=e.options.autoResetAll)!=null?r:e.options.autoResetExpanded)!=null?s:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=s=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(s),e.toggleAllRowsExpanded=s=>{s??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=s=>{var r,i;e.setExpanded(s?{}:(r=(i=e.initialState)==null?void 0:i.expanded)!=null?r:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(s=>s.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>s=>{s.persist==null||s.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const s=e.getState().expanded;return s===!0||Object.values(s).some(Boolean)},e.getIsAllRowsExpanded=()=>{const s=e.getState().expanded;return typeof s=="boolean"?s===!0:!(!Object.keys(s).length||e.getRowModel().flatRows.some(r=>!r.getIsExpanded()))},e.getExpandedDepth=()=>{let s=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const o=i.split(".");s=Math.max(s,o.length)}),s},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(s=>{var r;const i=s===!0?!0:!!(s!=null&&s[e.id]);let o={};if(s===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{o[a]=!0}):o=s,n=(r=n)!=null?r:!i,!i&&n)return{...o,[e.id]:!0};if(i&&!n){const{[e.id]:a,...c}=o;return c}return s})},e.getIsExpanded=()=>{var n;const s=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:s===!0||s!=null&&s[e.id])},e.getCanExpand=()=>{var n,s,r;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((s=t.options.enableExpanding)!=null?s:!0)&&!!((r=e.subRows)!=null&&r.length)},e.getIsAllParentsExpanded=()=>{let n=!0,s=e;for(;n&&s.parentId;)s=t.getRow(s.parentId,!0),n=s.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},Fn=0,Mn=10,un=()=>({pageIndex:Fn,pageSize:Mn}),Ki={getInitialState:e=>({...e,pagination:{...un(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:ae("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var s,r;if(!t){e._queue(()=>{t=!0});return}if((s=(r=e.options.autoResetAll)!=null?r:e.options.autoResetPageIndex)!=null?s:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=s=>{const r=i=>Te(s,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(r)},e.resetPagination=s=>{var r;e.setPagination(s?un():(r=e.initialState.pagination)!=null?r:un())},e.setPageIndex=s=>{e.setPagination(r=>{let i=Te(s,r.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...r,pageIndex:i}})},e.resetPageIndex=s=>{var r,i;e.setPageIndex(s?Fn:(r=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?r:Fn)},e.resetPageSize=s=>{var r,i;e.setPageSize(s?Mn:(r=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?r:Mn)},e.setPageSize=s=>{e.setPagination(r=>{const i=Math.max(1,Te(s,r.pageSize)),o=r.pageSize*r.pageIndex,a=Math.floor(o/i);return{...r,pageIndex:a,pageSize:i}})},e.setPageCount=s=>e.setPagination(r=>{var i;let o=Te(s,(i=e.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...r,pageCount:o}}),e.getPageOptions=M(()=>[e.getPageCount()],s=>{let r=[];return s&&s>0&&(r=[...new Array(s)].fill(null).map((i,o)=>o)),r},x(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:s}=e.getState().pagination,r=e.getPageCount();return r===-1?!0:r===0?!1:s<r-1},e.previousPage=()=>e.setPageIndex(s=>s-1),e.nextPage=()=>e.setPageIndex(s=>s+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var s;return(s=e.options.pageCount)!=null?s:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var s;return(s=e.options.rowCount)!=null?s:e.getPrePaginationRowModel().rows.length}}},cn=()=>({top:[],bottom:[]}),Wi={getInitialState:e=>({rowPinning:cn(),...e}),getDefaultOptions:e=>({onRowPinningChange:ae("rowPinning",e)}),createRow:(e,t)=>{e.pin=(n,s,r)=>{const i=s?e.getLeafRows().map(c=>{let{id:l}=c;return l}):[],o=r?e.getParentRows().map(c=>{let{id:l}=c;return l}):[],a=new Set([...o,e.id,...i]);t.setRowPinning(c=>{var l,d;if(n==="bottom"){var g,h;return{top:((g=c==null?void 0:c.top)!=null?g:[]).filter(p=>!(a!=null&&a.has(p))),bottom:[...((h=c==null?void 0:c.bottom)!=null?h:[]).filter(p=>!(a!=null&&a.has(p))),...Array.from(a)]}}if(n==="top"){var u,m;return{top:[...((u=c==null?void 0:c.top)!=null?u:[]).filter(p=>!(a!=null&&a.has(p))),...Array.from(a)],bottom:((m=c==null?void 0:c.bottom)!=null?m:[]).filter(p=>!(a!=null&&a.has(p)))}}return{top:((l=c==null?void 0:c.top)!=null?l:[]).filter(p=>!(a!=null&&a.has(p))),bottom:((d=c==null?void 0:c.bottom)!=null?d:[]).filter(p=>!(a!=null&&a.has(p)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:s,enablePinning:r}=t.options;return typeof s=="function"?s(e):(n=s??r)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:s,bottom:r}=t.getState().rowPinning,i=n.some(a=>s==null?void 0:s.includes(a)),o=n.some(a=>r==null?void 0:r.includes(a));return i?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var n,s;const r=e.getIsPinned();if(!r)return-1;const i=(n=t._getPinnedRows(r))==null?void 0:n.map(o=>{let{id:a}=o;return a});return(s=i==null?void 0:i.indexOf(e.id))!=null?s:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,s;return e.setRowPinning(t?cn():(n=(s=e.initialState)==null?void 0:s.rowPinning)!=null?n:cn())},e.getIsSomeRowsPinned=t=>{var n;const s=e.getState().rowPinning;if(!t){var r,i;return!!((r=s.top)!=null&&r.length||(i=s.bottom)!=null&&i.length)}return!!((n=s[t])!=null&&n.length)},e._getPinnedRows=M(t=>[e.getRowModel().rows,e.getState().rowPinning[t],t],(t,n,s)=>{var r;return((r=e.options.keepPinnedRows)==null||r?(n??[]).map(o=>{const a=e.getRow(o,!0);return a.getIsAllParentsExpanded()?a:null}):(n??[]).map(o=>t.find(a=>a.id===o))).filter(Boolean).map(o=>({...o,position:s}))},x(e.options,"debugRows")),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=M(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,s)=>{const r=new Set([...n??[],...s??[]]);return t.filter(i=>!r.has(i.id))},x(e.options,"debugRows"))}},Xi={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:ae("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const s={...n},r=e.getPreGroupedRowModel().flatRows;return t?r.forEach(i=>{i.getCanSelect()&&(s[i.id]=!0)}):r.forEach(i=>{delete s[i.id]}),s})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const s=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),r={...n};return e.getRowModel().rows.forEach(i=>{xn(r,i.id,s,!0,e)}),r}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=M(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?dn(e,n):{rows:[],flatRows:[],rowsById:{}},x(e.options,"debugTable")),e.getFilteredSelectedRowModel=M(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?dn(e,n):{rows:[],flatRows:[],rowsById:{}},x(e.options,"debugTable")),e.getGroupedSelectedRowModel=M(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?dn(e,n):{rows:[],flatRows:[],rowsById:{}},x(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let s=!!(t.length&&Object.keys(n).length);return s&&t.some(r=>r.getCanSelect()&&!n[r.id])&&(s=!1),s},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(r=>r.getCanSelect()),{rowSelection:n}=e.getState();let s=!!t.length;return s&&t.some(r=>!n[r.id])&&(s=!1),s},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,s)=>{const r=e.getIsSelected();t.setRowSelection(i=>{var o;if(n=typeof n<"u"?n:!r,e.getCanSelect()&&r===n)return i;const a={...i};return xn(a,e.id,n,(o=s==null?void 0:s.selectChildren)!=null?o:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return Hn(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return In(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return In(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return s=>{var r;n&&e.toggleSelected((r=s.target)==null?void 0:r.checked)}}}},xn=(e,t,n,s,r)=>{var i;const o=r.getRow(t,!0);n?(o.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),o.getCanSelect()&&(e[t]=!0)):delete e[t],s&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(a=>xn(e,a.id,n,s,r))};function dn(e,t){const n=e.getState().rowSelection,s=[],r={},i=function(o,a){return o.map(c=>{var l;const d=Hn(c,n);if(d&&(s.push(c),r[c.id]=c),(l=c.subRows)!=null&&l.length&&(c={...c,subRows:i(c.subRows)}),d)return c}).filter(Boolean)};return{rows:i(t.rows),flatRows:s,rowsById:r}}function Hn(e,t){var n;return(n=t[e.id])!=null?n:!1}function In(e,t,n){var s;if(!((s=e.subRows)!=null&&s.length))return!1;let r=!0,i=!1;return e.subRows.forEach(o=>{if(!(i&&!r)&&(o.getCanSelect()&&(Hn(o,t)?i=!0:r=!1),o.subRows&&o.subRows.length)){const a=In(o,t);a==="all"?i=!0:(a==="some"&&(i=!0),r=!1)}}),r?"all":i?"some":!1}const En=/([0-9]+)/gm,Ji=(e,t,n)=>Qs(Ge(e.getValue(n)).toLowerCase(),Ge(t.getValue(n)).toLowerCase()),Yi=(e,t,n)=>Qs(Ge(e.getValue(n)),Ge(t.getValue(n))),Zi=(e,t,n)=>Gn(Ge(e.getValue(n)).toLowerCase(),Ge(t.getValue(n)).toLowerCase()),eo=(e,t,n)=>Gn(Ge(e.getValue(n)),Ge(t.getValue(n))),to=(e,t,n)=>{const s=e.getValue(n),r=t.getValue(n);return s>r?1:s<r?-1:0},no=(e,t,n)=>Gn(e.getValue(n),t.getValue(n));function Gn(e,t){return e===t?0:e>t?1:-1}function Ge(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Qs(e,t){const n=e.split(En).filter(Boolean),s=t.split(En).filter(Boolean);for(;n.length&&s.length;){const r=n.shift(),i=s.shift(),o=parseInt(r,10),a=parseInt(i,10),c=[o,a].sort();if(isNaN(c[0])){if(r>i)return 1;if(i>r)return-1;continue}if(isNaN(c[1]))return isNaN(o)?-1:1;if(o>a)return 1;if(a>o)return-1}return n.length-s.length}const Rt={alphanumeric:Ji,alphanumericCaseSensitive:Yi,text:Zi,textCaseSensitive:eo,datetime:to,basic:no},so={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:ae("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let s=!1;for(const r of n){const i=r==null?void 0:r.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return Rt.datetime;if(typeof i=="string"&&(s=!0,i.split(En).length>1))return Rt.alphanumeric}return s?Rt.text:Rt.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,s;if(!e)throw new Error;return Xt(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(s=t.options.sortingFns)==null?void 0:s[e.columnDef.sortingFn])!=null?n:Rt[e.columnDef.sortingFn]},e.toggleSorting=(n,s)=>{const r=e.getNextSortingOrder(),i=typeof n<"u"&&n!==null;t.setSorting(o=>{const a=o==null?void 0:o.find(u=>u.id===e.id),c=o==null?void 0:o.findIndex(u=>u.id===e.id);let l=[],d,g=i?n:r==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&s?a?d="toggle":d="add":o!=null&&o.length&&c!==o.length-1?d="replace":a?d="toggle":d="replace",d==="toggle"&&(i||r||(d="remove")),d==="add"){var h;l=[...o,{id:e.id,desc:g}],l.splice(0,l.length-((h=t.options.maxMultiSortColCount)!=null?h:Number.MAX_SAFE_INTEGER))}else d==="toggle"?l=o.map(u=>u.id===e.id?{...u,desc:g}:u):d==="remove"?l=o.filter(u=>u.id!==e.id):l=[{id:e.id,desc:g}];return l})},e.getFirstSortDir=()=>{var n,s;return((n=(s=e.columnDef.sortDescFirst)!=null?s:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var s,r;const i=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==i&&((s=t.options.enableSortingRemoval)==null||s)&&(!(n&&(r=t.options.enableMultiRemove)!=null)||r)?!1:o==="desc"?"asc":"desc":i},e.getCanSort=()=>{var n,s;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((s=t.options.enableSorting)!=null?s:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,s;return(n=(s=e.columnDef.enableMultiSort)!=null?s:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const s=(n=t.getState().sorting)==null?void 0:n.find(r=>r.id===e.id);return s?s.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,s;return(n=(s=t.getState().sorting)==null?void 0:s.findIndex(r=>r.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(s=>s.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return s=>{n&&(s.persist==null||s.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(s):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,s;e.setSorting(t?[]:(n=(s=e.initialState)==null?void 0:s.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},ro=[Mi,qi,ki,ji,xi,Ii,Ui,Ni,so,Hi,Qi,Ki,Wi,Xi,zi];function io(e){var t,n;const s=[...ro,...(t=e._features)!=null?t:[]];let r={_features:s};const i=r._features.reduce((h,u)=>Object.assign(h,u.getDefaultOptions==null?void 0:u.getDefaultOptions(r)),{}),o=h=>r.options.mergeOptions?r.options.mergeOptions(i,h):{...i,...h};let c={...{},...(n=e.initialState)!=null?n:{}};r._features.forEach(h=>{var u;c=(u=h.getInitialState==null?void 0:h.getInitialState(c))!=null?u:c});const l=[];let d=!1;const g={_features:s,options:{...i,...e},initialState:c,_queue:h=>{l.push(h),d||(d=!0,Promise.resolve().then(()=>{for(;l.length;)l.shift()();d=!1}).catch(u=>setTimeout(()=>{throw u})))},reset:()=>{r.setState(r.initialState)},setOptions:h=>{const u=Te(h,r.options);r.options=o(u)},getState:()=>r.options.state,setState:h=>{r.options.onStateChange==null||r.options.onStateChange(h)},_getRowId:(h,u,m)=>{var p;return(p=r.options.getRowId==null?void 0:r.options.getRowId(h,u,m))!=null?p:`${m?[m.id,u].join("."):u}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(h,u)=>{let m=(u?r.getPrePaginationRowModel():r.getRowModel()).rowsById[h];if(!m&&(m=r.getCoreRowModel().rowsById[h],!m))throw new Error;return m},_getDefaultColumnDef:M(()=>[r.options.defaultColumn],h=>{var u;return h=(u=h)!=null?u:{},{header:m=>{const p=m.header.column.columnDef;return p.accessorKey?p.accessorKey:p.accessorFn?p.id:null},cell:m=>{var p,v;return(p=(v=m.renderValue())==null||v.toString==null?void 0:v.toString())!=null?p:null},...r._features.reduce((m,p)=>Object.assign(m,p.getDefaultColumnDef==null?void 0:p.getDefaultColumnDef()),{}),...h}},x(e,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:M(()=>[r._getColumnDefs()],h=>{const u=function(m,p,v){return v===void 0&&(v=0),m.map(y=>{const C=Fi(r,y,v,p),S=y;return C.columns=S.columns?u(S.columns,C,v+1):[],C})};return u(h)},x(e,"debugColumns")),getAllFlatColumns:M(()=>[r.getAllColumns()],h=>h.flatMap(u=>u.getFlatColumns()),x(e,"debugColumns")),_getAllFlatColumnsById:M(()=>[r.getAllFlatColumns()],h=>h.reduce((u,m)=>(u[m.id]=m,u),{}),x(e,"debugColumns")),getAllLeafColumns:M(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(h,u)=>{let m=h.flatMap(p=>p.getLeafColumns());return u(m)},x(e,"debugColumns")),getColumn:h=>r._getAllFlatColumnsById()[h]};Object.assign(r,g);for(let h=0;h<r._features.length;h++){const u=r._features[h];u==null||u.createTable==null||u.createTable(r)}return r}function Lo(){return e=>M(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},s=function(r,i,o){i===void 0&&(i=0);const a=[];for(let l=0;l<r.length;l++){const d=An(e,e._getRowId(r[l],l,o),r[l],l,i,void 0,o==null?void 0:o.id);if(n.flatRows.push(d),n.rowsById[d.id]=d,a.push(d),e.options.getSubRows){var c;d.originalSubRows=e.options.getSubRows(r[l],l),(c=d.originalSubRows)!=null&&c.length&&(d.subRows=s(d.originalSubRows,i+1,d))}}return a};return n.rows=s(t),n},x(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function oo(e){const t=[],n=s=>{var r;t.push(s),(r=s.subRows)!=null&&r.length&&s.getIsExpanded()&&s.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function ao(e,t,n){return n.options.filterFromLeafRows?lo(e,t,n):uo(e,t,n)}function lo(e,t,n){var s;const r=[],i={},o=(s=n.options.maxLeafRowFilterDepth)!=null?s:100,a=function(c,l){l===void 0&&(l=0);const d=[];for(let h=0;h<c.length;h++){var g;let u=c[h];const m=An(n,u.id,u.original,u.index,u.depth,void 0,u.parentId);if(m.columnFilters=u.columnFilters,(g=u.subRows)!=null&&g.length&&l<o){if(m.subRows=a(u.subRows,l+1),u=m,t(u)&&!m.subRows.length){d.push(u),i[u.id]=u,r.push(u);continue}if(t(u)||m.subRows.length){d.push(u),i[u.id]=u,r.push(u);continue}}else u=m,t(u)&&(d.push(u),i[u.id]=u,r.push(u))}return d};return{rows:a(e),flatRows:r,rowsById:i}}function uo(e,t,n){var s;const r=[],i={},o=(s=n.options.maxLeafRowFilterDepth)!=null?s:100,a=function(c,l){l===void 0&&(l=0);const d=[];for(let h=0;h<c.length;h++){let u=c[h];if(t(u)){var g;if((g=u.subRows)!=null&&g.length&&l<o){const p=An(n,u.id,u.original,u.index,u.depth,void 0,u.parentId);p.subRows=a(u.subRows,l+1),u=p}d.push(u),r.push(u),i[u.id]=u}}return d};return{rows:a(e),flatRows:r,rowsById:i}}function bo(){return e=>M(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,n,s)=>{if(!t.rows.length||!(n!=null&&n.length)&&!s){for(let h=0;h<t.flatRows.length;h++)t.flatRows[h].columnFilters={},t.flatRows[h].columnFiltersMeta={};return t}const r=[],i=[];(n??[]).forEach(h=>{var u;const m=e.getColumn(h.id);if(!m)return;const p=m.getFilterFn();p&&r.push({id:h.id,filterFn:p,resolvedValue:(u=p.resolveFilterValue==null?void 0:p.resolveFilterValue(h.value))!=null?u:h.value})});const o=(n??[]).map(h=>h.id),a=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(h=>h.getCanGlobalFilter());s&&a&&c.length&&(o.push("__global__"),c.forEach(h=>{var u;i.push({id:h.id,filterFn:a,resolvedValue:(u=a.resolveFilterValue==null?void 0:a.resolveFilterValue(s))!=null?u:s})}));let l,d;for(let h=0;h<t.flatRows.length;h++){const u=t.flatRows[h];if(u.columnFilters={},r.length)for(let m=0;m<r.length;m++){l=r[m];const p=l.id;u.columnFilters[p]=l.filterFn(u,p,l.resolvedValue,v=>{u.columnFiltersMeta[p]=v})}if(i.length){for(let m=0;m<i.length;m++){d=i[m];const p=d.id;if(d.filterFn(u,p,d.resolvedValue,v=>{u.columnFiltersMeta[p]=v})){u.columnFilters.__global__=!0;break}}u.columnFilters.__global__!==!0&&(u.columnFilters.__global__=!1)}}const g=h=>{for(let u=0;u<o.length;u++)if(h.columnFilters[o[u]]===!1)return!1;return!0};return ao(t.rows,g,e)},x(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Oo(e){return t=>M(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,s)=>{if(!s.rows.length)return s;const{pageSize:r,pageIndex:i}=n;let{rows:o,flatRows:a,rowsById:c}=s;const l=r*i,d=l+r;o=o.slice(l,d);let g;t.options.paginateExpandedRows?g={rows:o,flatRows:a,rowsById:c}:g=oo({rows:o,flatRows:a,rowsById:c}),g.flatRows=[];const h=u=>{g.flatRows.push(u),u.subRows.length&&u.subRows.forEach(h)};return g.rows.forEach(h),g},x(t.options,"debugTable"))}function Do(){return e=>M(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const s=e.getState().sorting,r=[],i=s.filter(c=>{var l;return(l=e.getColumn(c.id))==null?void 0:l.getCanSort()}),o={};i.forEach(c=>{const l=e.getColumn(c.id);l&&(o[c.id]={sortUndefined:l.columnDef.sortUndefined,invertSorting:l.columnDef.invertSorting,sortingFn:l.getSortingFn()})});const a=c=>{const l=c.map(d=>({...d}));return l.sort((d,g)=>{for(let u=0;u<i.length;u+=1){var h;const m=i[u],p=o[m.id],v=p.sortUndefined,y=(h=m==null?void 0:m.desc)!=null?h:!1;let C=0;if(v){const S=d.getValue(m.id),R=g.getValue(m.id),_=S===void 0,L=R===void 0;if(_||L){if(v==="first")return _?-1:1;if(v==="last")return _?1:-1;C=_&&L?0:_?v:-v}}if(C===0&&(C=p.sortingFn(d,g,m.id)),C!==0)return y&&(C*=-1),p.invertSorting&&(C*=-1),C}return d.index-g.index}),l.forEach(d=>{var g;r.push(d),(g=d.subRows)!=null&&g.length&&(d.subRows=a(d.subRows))}),l};return{rows:a(n.rows),flatRows:r,rowsById:n.rowsById}},x(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Vo(e,t){return e?co(e)?I.createElement(e,t):e:null}function co(e){return ho(e)||typeof e=="function"||fo(e)}function ho(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function fo(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Ao(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=I.useState(()=>({current:io(t)})),[s,r]=I.useState(()=>n.current.initialState);return n.current.setOptions(i=>({...i,...e,state:{...s,...e.state},onStateChange:o=>{r(o),e.onStateChange==null||e.onStateChange(o)}})),n.current}export{$o as L,Yr as O,Ro as Q,Mo as R,Eo as a,ke as b,Io as c,wo as d,Po as e,Is as f,Ao as g,Vo as h,Lo as i,Do as j,bo as k,Oo as l,xo as m,Co as n,_o as q,Fo as r,gi as u};
