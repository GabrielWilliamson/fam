import{r as t}from"./react-DlGbiwJB.js";function a(e,r){const[c,n]=t.useState(e);return t.useEffect(()=>{if(typeof window<"u"){const u=setTimeout(()=>{n(e)},r);return()=>{clearTimeout(u)}}},[e,r]),c}function i({data:e,onSave:r,interval:c=2e3,saveOnUnmount:n=!0}){const u=t.useRef(e),o=t.useRef(!0),f=t.useRef(r),s=a(e,c);t.useEffect(()=>{o.current?o.current=!1:f.current(s)},[s]),t.useEffect(()=>{u.current=e},[e]),t.useEffect(()=>{f.current=r},[r]),t.useEffect(()=>()=>{n&&f.current(u.current)},[n])}const E=({element:e=null,...r})=>(i(r),e);export{E as m};
