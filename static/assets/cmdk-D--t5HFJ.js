import{_ as N}from"./@babel-BUU5AkDm.js";import{r,$ as lt}from"./react-DlGbiwJB.js";import{r as Me,R as ut}from"./react-dom-DvWAHP8V.js";import{_ as st,a as U,b as it}from"./tslib-DAXutpDz.js";import{f as dt,z as ft,R as vt}from"./react-remove-scroll-bar-DpplgrwG.js";import{c as mt,e as pt}from"./use-sidecar-DBsqz5gS.js";import{u as bt}from"./use-callback-ref-Bzx3dFtb.js";import{s as $t}from"./react-style-singleton-B7CLrfmV.js";import{h as ht}from"./aria-hidden-DQ5UC2Eg.js";import{l as Et}from"./command-score-DNa1_7rr.js";function K(e,t,{checkForDefaultPrevented:n=!0}={}){return function(c){if(e==null||e(c),n===!1||!c.defaultPrevented)return t==null?void 0:t(c)}}function gt(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ue(...e){return t=>e.forEach(n=>gt(n,t))}function z(...e){return r.useCallback(Ue(...e),e)}function yt(e,t=[]){let n=[];function o(a,u){const l=r.createContext(u),i=n.length;n=[...n,u];function d(b){const{scope:g,children:E,...P}=b,f=(g==null?void 0:g[e][i])||l,h=r.useMemo(()=>P,Object.values(P));return r.createElement(f.Provider,{value:h},E)}function v(b,g){const E=(g==null?void 0:g[e][i])||l,P=r.useContext(E);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${b}\` must be used within \`${a}\``)}return d.displayName=a+"Provider",[d,v]}const c=()=>{const a=n.map(u=>r.createContext(u));return function(l){const i=(l==null?void 0:l[e])||a;return r.useMemo(()=>({[`__scope${e}`]:{...l,[e]:i}}),[l,i])}};return c.scopeName=e,[o,Ct(c,...t)]}function Ct(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(a){const u=o.reduce((l,{useScope:i,scopeName:d})=>{const b=i(a)[`__scope${d}`];return{...l,...b}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}const wt=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{},St=lt.useId||(()=>{});let Rt=0;function ae(e){const[t,n]=r.useState(St());return wt(()=>{e||n(o=>o??String(Rt++))},[e]),e||(t?`radix-${t}`:"")}function Be(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...n)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...n)},[])}function Dt({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,c]=Pt({defaultProp:t,onChange:n}),a=e!==void 0,u=a?e:o,l=Be(n),i=r.useCallback(d=>{if(a){const b=typeof d=="function"?d(e):d;b!==e&&l(b)}else c(d)},[a,e,c,l]);return[u,i]}function Pt({defaultProp:e,onChange:t}){const n=r.useState(e),[o]=n,c=r.useRef(o),a=Be(t);return r.useEffect(()=>{c.current!==o&&(a(o),c.current=o)},[o,c,a]),n}const $e=r.forwardRef((e,t)=>{const{children:n,...o}=e,c=r.Children.toArray(n),a=c.find(Ot);if(a){const u=a.props.children,l=c.map(i=>i===a?r.Children.count(u)>1?r.Children.only(null):r.isValidElement(u)?u.props.children:null:i);return r.createElement(fe,N({},o,{ref:t}),r.isValidElement(u)?r.cloneElement(u,void 0,l):null)}return r.createElement(fe,N({},o,{ref:t}),n)});$e.displayName="Slot";const fe=r.forwardRef((e,t)=>{const{children:n,...o}=e;return r.isValidElement(n)?r.cloneElement(n,{...Nt(o,n.props),ref:Ue(t,n.ref)}):r.Children.count(n)>1?r.Children.only(null):null});fe.displayName="SlotClone";const xt=({children:e})=>r.createElement(r.Fragment,null,e);function Ot(e){return r.isValidElement(e)&&e.type===xt}function Nt(e,t){const n={...t};for(const o in t){const c=e[o],a=t[o];/^on[A-Z]/.test(o)?n[o]=(...l)=>{a==null||a(...l),c==null||c(...l)}:o==="style"?n[o]={...c,...a}:o==="className"&&(n[o]=[c,a].filter(Boolean).join(" "))}return{...e,...n}}const kt=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],te=kt.reduce((e,t)=>{const n=r.forwardRef((o,c)=>{const{asChild:a,...u}=o,l=a?$e:t;return r.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),r.createElement(l,N({},u,{ref:c}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function At(e,t){e&&Me.flushSync(()=>e.dispatchEvent(t))}function he(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...n)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...n)},[])}function It(e){const t=he(e);r.useEffect(()=>{const n=o=>{o.key==="Escape"&&t(o)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t])}const ve="dismissableLayer.update",_t="dismissableLayer.pointerDownOutside",Tt="dismissableLayer.focusOutside";let Re;const Ft=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lt=r.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:a,onInteractOutside:u,onDismiss:l,...i}=e,d=r.useContext(Ft),[v,b]=r.useState(null),[,g]=r.useState({}),E=z(t,S=>b(S)),P=Array.from(d.layers),[f]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),h=P.indexOf(f),p=v?P.indexOf(v):-1,R=d.layersWithOutsidePointerEventsDisabled.size>0,w=p>=h,y=Mt(S=>{const O=S.target,A=[...d.branches].some(I=>I.contains(O));!w||A||(c==null||c(S),u==null||u(S),S.defaultPrevented||l==null||l())}),D=Ut(S=>{const O=S.target;[...d.branches].some(I=>I.contains(O))||(a==null||a(S),u==null||u(S),S.defaultPrevented||l==null||l())});return It(S=>{p===d.layers.size-1&&(o==null||o(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))}),r.useEffect(()=>{if(v)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Re=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(v)),d.layers.add(v),De(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=Re)}},[v,n,d]),r.useEffect(()=>()=>{v&&(d.layers.delete(v),d.layersWithOutsidePointerEventsDisabled.delete(v),De())},[v,d]),r.useEffect(()=>{const S=()=>g({});return document.addEventListener(ve,S),()=>document.removeEventListener(ve,S)},[]),r.createElement(te.div,N({},i,{ref:E,style:{pointerEvents:R?w?"auto":"none":void 0,...e.style},onFocusCapture:K(e.onFocusCapture,D.onFocusCapture),onBlurCapture:K(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:K(e.onPointerDownCapture,y.onPointerDownCapture)}))});function Mt(e){const t=he(e),n=r.useRef(!1),o=r.useRef(()=>{});return r.useEffect(()=>{const c=u=>{if(u.target&&!n.current){let i=function(){Ke(_t,t,l,{discrete:!0})};const l={originalEvent:u};u.pointerType==="touch"?(document.removeEventListener("click",o.current),o.current=i,document.addEventListener("click",o.current,{once:!0})):i()}n.current=!1},a=window.setTimeout(()=>{document.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(a),document.removeEventListener("pointerdown",c),document.removeEventListener("click",o.current)}},[t]),{onPointerDownCapture:()=>n.current=!0}}function Ut(e){const t=he(e),n=r.useRef(!1);return r.useEffect(()=>{const o=c=>{c.target&&!n.current&&Ke(Tt,t,{originalEvent:c},{discrete:!1})};return document.addEventListener("focusin",o),()=>document.removeEventListener("focusin",o)},[t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function De(){const e=new CustomEvent(ve);document.dispatchEvent(e)}function Ke(e,t,n,{discrete:o}){const c=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&c.addEventListener(e,t,{once:!0}),o?At(c,a):c.dispatchEvent(a)}function Pe(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...n)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...n)},[])}const le="focusScope.autoFocusOnMount",ue="focusScope.autoFocusOnUnmount",xe={bubbles:!1,cancelable:!0},Bt=r.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:c,onUnmountAutoFocus:a,...u}=e,[l,i]=r.useState(null),d=Pe(c),v=Pe(a),b=r.useRef(null),g=z(t,f=>i(f)),E=r.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;r.useEffect(()=>{if(o){let f=function(p){if(E.paused||!l)return;const R=p.target;l.contains(R)?b.current=R:T(b.current,{select:!0})},h=function(p){E.paused||!l||l.contains(p.relatedTarget)||T(b.current,{select:!0})};return document.addEventListener("focusin",f),document.addEventListener("focusout",h),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",h)}}},[o,l,E.paused]),r.useEffect(()=>{if(l){Ne.add(E);const f=document.activeElement;if(!l.contains(f)){const p=new CustomEvent(le,xe);l.addEventListener(le,d),l.dispatchEvent(p),p.defaultPrevented||(Kt(Ht(We(l)),{select:!0}),document.activeElement===f&&T(l))}return()=>{l.removeEventListener(le,d),setTimeout(()=>{const p=new CustomEvent(ue,xe);l.addEventListener(ue,v),l.dispatchEvent(p),p.defaultPrevented||T(f??document.body,{select:!0}),l.removeEventListener(ue,v),Ne.remove(E)},0)}}},[l,d,v,E]);const P=r.useCallback(f=>{if(!n&&!o||E.paused)return;const h=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,p=document.activeElement;if(h&&p){const R=f.currentTarget,[w,y]=Wt(R);w&&y?!f.shiftKey&&p===y?(f.preventDefault(),n&&T(w,{select:!0})):f.shiftKey&&p===w&&(f.preventDefault(),n&&T(y,{select:!0})):p===R&&f.preventDefault()}},[n,o,E.paused]);return r.createElement(te.div,N({tabIndex:-1},u,{ref:g,onKeyDown:P}))});function Kt(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(T(o,{select:t}),document.activeElement!==n)return}function Wt(e){const t=We(e),n=Oe(t,e),o=Oe(t.reverse(),e);return[n,o]}function We(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const c=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||c?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Oe(e,t){for(const n of e)if(!Vt(n,{upTo:t}))return n}function Vt(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jt(e){return e instanceof HTMLInputElement&&"select"in e}function T(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&jt(e)&&t&&e.select()}}const Ne=Yt();function Yt(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ke(e,t),e.unshift(t)},remove(t){var n;e=ke(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function ke(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function Ht(e){return e.filter(t=>t.tagName!=="A")}const Xt=r.forwardRef((e,t)=>{var n;const{container:o=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...c}=e;return o?ut.createPortal(r.createElement(te.div,N({},c,{ref:t})),o):null}),Ae=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{};function zt(e,t){return r.useReducer((n,o)=>{const c=t[n][o];return c??n},e)}const ne=e=>{const{present:t,children:n}=e,o=qt(t),c=typeof n=="function"?n({present:o.isPresent}):r.Children.only(n),a=z(o.ref,c.ref);return typeof n=="function"||o.isPresent?r.cloneElement(c,{ref:a}):null};ne.displayName="Presence";function qt(e){const[t,n]=r.useState(),o=r.useRef({}),c=r.useRef(e),a=r.useRef("none"),u=e?"mounted":"unmounted",[l,i]=zt(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const d=Q(o.current);a.current=l==="mounted"?d:"none"},[l]),Ae(()=>{const d=o.current,v=c.current;if(v!==e){const g=a.current,E=Q(d);e?i("MOUNT"):E==="none"||(d==null?void 0:d.display)==="none"?i("UNMOUNT"):i(v&&g!==E?"ANIMATION_OUT":"UNMOUNT"),c.current=e}},[e,i]),Ae(()=>{if(t){const d=b=>{const E=Q(o.current).includes(b.animationName);b.target===t&&E&&Me.flushSync(()=>i("ANIMATION_END"))},v=b=>{b.target===t&&(a.current=Q(o.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else i("ANIMATION_END")},[t,i]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:r.useCallback(d=>{d&&(o.current=getComputedStyle(d)),n(d)},[])}}function Q(e){return(e==null?void 0:e.animationName)||"none"}let se=0;function Zt(){r.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Ie()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Ie()),se++,()=>{se===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(o=>o.remove()),se--}},[])}function Ie(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var Ve=mt(),ie=function(){},re=r.forwardRef(function(e,t){var n=r.useRef(null),o=r.useState({onScrollCapture:ie,onWheelCapture:ie,onTouchMoveCapture:ie}),c=o[0],a=o[1],u=e.forwardProps,l=e.children,i=e.className,d=e.removeScrollBar,v=e.enabled,b=e.shards,g=e.sideCar,E=e.noIsolation,P=e.inert,f=e.allowPinchZoom,h=e.as,p=h===void 0?"div":h,R=st(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),w=g,y=bt([n,t]),D=U(U({},R),c);return r.createElement(r.Fragment,null,v&&r.createElement(w,{sideCar:Ve,removeScrollBar:d,shards:b,noIsolation:E,inert:P,setCallbacks:a,allowPinchZoom:!!f,lockRef:n}),u?r.cloneElement(r.Children.only(l),U(U({},D),{ref:y})):r.createElement(p,U({},D,{className:i,ref:y}),l))});re.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};re.classNames={fullWidth:dt,zeroRight:ft};var me=!1;if(typeof window<"u")try{var J=Object.defineProperty({},"passive",{get:function(){return me=!0,!0}});window.addEventListener("test",J,J),window.removeEventListener("test",J,J)}catch{me=!1}var L=me?{passive:!1}:!1,Gt=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},Qt=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},_e=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=je(e,n);if(o){var c=Ye(e,n),a=c[1],u=c[2];if(a>u)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Jt=function(e){var t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;return[t,n,o]},en=function(e){var t=e.scrollLeft,n=e.scrollWidth,o=e.clientWidth;return[t,n,o]},je=function(e,t){return e==="v"?Gt(t):Qt(t)},Ye=function(e,t){return e==="v"?Jt(t):en(t)},tn=function(e,t){return e==="h"&&t==="rtl"?-1:1},nn=function(e,t,n,o,c){var a=tn(e,window.getComputedStyle(t).direction),u=a*o,l=n.target,i=t.contains(l),d=!1,v=u>0,b=0,g=0;do{var E=Ye(e,l),P=E[0],f=E[1],h=E[2],p=f-h-a*P;(P||p)&&je(e,l)&&(b+=p,g+=P),l=l.parentNode}while(!i&&l!==document.body||i&&(t.contains(l)||t===l));return(v&&(b===0||!c)||!v&&(g===0||!c))&&(d=!0),d},ee=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Te=function(e){return[e.deltaX,e.deltaY]},Fe=function(e){return e&&"current"in e?e.current:e},rn=function(e,t){return e[0]===t[0]&&e[1]===t[1]},on=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cn=0,M=[];function an(e){var t=r.useRef([]),n=r.useRef([0,0]),o=r.useRef(),c=r.useState(cn++)[0],a=r.useState(function(){return $t()})[0],u=r.useRef(e);r.useEffect(function(){u.current=e},[e]),r.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(c));var f=it([e.lockRef.current],(e.shards||[]).map(Fe),!0).filter(Boolean);return f.forEach(function(h){return h.classList.add("allow-interactivity-".concat(c))}),function(){document.body.classList.remove("block-interactivity-".concat(c)),f.forEach(function(h){return h.classList.remove("allow-interactivity-".concat(c))})}}},[e.inert,e.lockRef.current,e.shards]);var l=r.useCallback(function(f,h){if("touches"in f&&f.touches.length===2)return!u.current.allowPinchZoom;var p=ee(f),R=n.current,w="deltaX"in f?f.deltaX:R[0]-p[0],y="deltaY"in f?f.deltaY:R[1]-p[1],D,S=f.target,O=Math.abs(w)>Math.abs(y)?"h":"v";if("touches"in f&&O==="h"&&S.type==="range")return!1;var A=_e(O,S);if(!A)return!0;if(A?D=O:(D=O==="v"?"h":"v",A=_e(O,S)),!A)return!1;if(!o.current&&"changedTouches"in f&&(w||y)&&(o.current=D),!D)return!0;var I=o.current||D;return nn(I,h,f,I==="h"?w:y,!0)},[]),i=r.useCallback(function(f){var h=f;if(!(!M.length||M[M.length-1]!==a)){var p="deltaY"in h?Te(h):ee(h),R=t.current.filter(function(D){return D.name===h.type&&D.target===h.target&&rn(D.delta,p)})[0];if(R&&R.should){h.preventDefault();return}if(!R){var w=(u.current.shards||[]).map(Fe).filter(Boolean).filter(function(D){return D.contains(h.target)}),y=w.length>0?l(h,w[0]):!u.current.noIsolation;y&&h.preventDefault()}}},[]),d=r.useCallback(function(f,h,p,R){var w={name:f,delta:h,target:p,should:R};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(y){return y!==w})},1)},[]),v=r.useCallback(function(f){n.current=ee(f),o.current=void 0},[]),b=r.useCallback(function(f){d(f.type,Te(f),f.target,l(f,e.lockRef.current))},[]),g=r.useCallback(function(f){d(f.type,ee(f),f.target,l(f,e.lockRef.current))},[]);r.useEffect(function(){return M.push(a),e.setCallbacks({onScrollCapture:b,onWheelCapture:b,onTouchMoveCapture:g}),document.addEventListener("wheel",i,L),document.addEventListener("touchmove",i,L),document.addEventListener("touchstart",v,L),function(){M=M.filter(function(f){return f!==a}),document.removeEventListener("wheel",i,L),document.removeEventListener("touchmove",i,L),document.removeEventListener("touchstart",v,L)}},[]);var E=e.removeScrollBar,P=e.inert;return r.createElement(r.Fragment,null,P?r.createElement(a,{styles:on(c)}):null,E?r.createElement(vt,{gapMode:"margin"}):null)}const ln=pt(Ve,an);var He=r.forwardRef(function(e,t){return r.createElement(re,U({},e,{ref:t,sideCar:ln}))});He.classNames=re.classNames;const Xe="Dialog",[ze,Xn]=yt(Xe),[un,F]=ze(Xe),sn=e=>{const{__scopeDialog:t,children:n,open:o,defaultOpen:c,onOpenChange:a,modal:u=!0}=e,l=r.useRef(null),i=r.useRef(null),[d=!1,v]=Dt({prop:o,defaultProp:c,onChange:a});return r.createElement(un,{scope:t,triggerRef:l,contentRef:i,contentId:ae(),titleId:ae(),descriptionId:ae(),open:d,onOpenChange:v,onOpenToggle:r.useCallback(()=>v(b=>!b),[v]),modal:u},n)},qe="DialogPortal",[dn,Ze]=ze(qe,{forceMount:void 0}),fn=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:c}=e,a=F(qe,t);return r.createElement(dn,{scope:t,forceMount:n},r.Children.map(o,u=>r.createElement(ne,{present:n||a.open},r.createElement(Xt,{asChild:!0,container:c},u))))},pe="DialogOverlay",vn=r.forwardRef((e,t)=>{const n=Ze(pe,e.__scopeDialog),{forceMount:o=n.forceMount,...c}=e,a=F(pe,e.__scopeDialog);return a.modal?r.createElement(ne,{present:o||a.open},r.createElement(mn,N({},c,{ref:t}))):null}),mn=r.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,c=F(pe,n);return r.createElement(He,{as:$e,allowPinchZoom:!0,shards:[c.contentRef]},r.createElement(te.div,N({"data-state":Qe(c.open)},o,{ref:t,style:{pointerEvents:"auto",...o.style}})))}),X="DialogContent",pn=r.forwardRef((e,t)=>{const n=Ze(X,e.__scopeDialog),{forceMount:o=n.forceMount,...c}=e,a=F(X,e.__scopeDialog);return r.createElement(ne,{present:o||a.open},a.modal?r.createElement(bn,N({},c,{ref:t})):r.createElement($n,N({},c,{ref:t})))}),bn=r.forwardRef((e,t)=>{const n=F(X,e.__scopeDialog),o=r.useRef(null),c=z(t,n.contentRef,o);return r.useEffect(()=>{const a=o.current;if(a)return ht(a)},[]),r.createElement(Ge,N({},e,{ref:c,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:K(e.onCloseAutoFocus,a=>{var u;a.preventDefault(),(u=n.triggerRef.current)===null||u===void 0||u.focus()}),onPointerDownOutside:K(e.onPointerDownOutside,a=>{const u=a.detail.originalEvent,l=u.button===0&&u.ctrlKey===!0;(u.button===2||l)&&a.preventDefault()}),onFocusOutside:K(e.onFocusOutside,a=>a.preventDefault())}))}),$n=r.forwardRef((e,t)=>{const n=F(X,e.__scopeDialog),o=r.useRef(!1);return r.createElement(Ge,N({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var a;if((a=e.onCloseAutoFocus)===null||a===void 0||a.call(e,c),!c.defaultPrevented){var u;o.current||(u=n.triggerRef.current)===null||u===void 0||u.focus(),c.preventDefault()}o.current=!1},onInteractOutside:c=>{var a,u;(a=e.onInteractOutside)===null||a===void 0||a.call(e,c),c.defaultPrevented||(o.current=!0);const l=c.target;((u=n.triggerRef.current)===null||u===void 0?void 0:u.contains(l))&&c.preventDefault()}}))}),Ge=r.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:c,onCloseAutoFocus:a,...u}=e,l=F(X,n),i=r.useRef(null),d=z(t,i);return Zt(),r.createElement(r.Fragment,null,r.createElement(Bt,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:c,onUnmountAutoFocus:a},r.createElement(Lt,N({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Qe(l.open)},u,{ref:d,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function Qe(e){return e?"open":"closed"}const hn=sn,En=fn,gn=vn,yn=pn;var Cn='[cmdk-list-sizer=""]',H='[cmdk-group=""]',de='[cmdk-group-items=""]',wn='[cmdk-group-heading=""]',Je='[cmdk-item=""]',Le=`${Je}:not([aria-disabled="true"])`,be="cmdk-item-select",_="data-value",Sn=(e,t)=>Et(e,t),et=r.createContext(void 0),q=()=>r.useContext(et),tt=r.createContext(void 0),Ee=()=>r.useContext(tt),nt=r.createContext(void 0),rt=r.forwardRef((e,t)=>{let n=r.useRef(null),o=B(()=>({search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}})),c=B(()=>new Set),a=B(()=>new Map),u=B(()=>new Map),l=B(()=>new Set),i=ot(e),{label:d,children:v,value:b,onValueChange:g,filter:E,shouldFilter:P,...f}=e,h=r.useId(),p=r.useId(),R=r.useId(),w=Tn();V(()=>{if(b!==void 0){let s=b.trim().toLowerCase();o.current.value=s,w(6,ge),y.emit()}},[b]);let y=r.useMemo(()=>({subscribe:s=>(l.current.add(s),()=>l.current.delete(s)),snapshot:()=>o.current,setState:(s,$,C)=>{var m,x,k;if(!Object.is(o.current[s],$)){if(o.current[s]=$,s==="search")I(),O(),w(1,A);else if(s==="value")if(((m=i.current)==null?void 0:m.value)!==void 0){(k=(x=i.current).onValueChange)==null||k.call(x,$);return}else C||w(5,ge);y.emit()}},emit:()=>{l.current.forEach(s=>s())}}),[]),D=r.useMemo(()=>({value:(s,$)=>{$!==u.current.get(s)&&(u.current.set(s,$),o.current.filtered.items.set(s,S($)),w(2,()=>{O(),y.emit()}))},item:(s,$)=>(c.current.add(s),$&&(a.current.has($)?a.current.get($).add(s):a.current.set($,new Set([s]))),w(3,()=>{I(),O(),o.current.value||A(),y.emit()}),()=>{u.current.delete(s),c.current.delete(s),o.current.filtered.items.delete(s),w(4,()=>{I(),A(),y.emit()})}),group:s=>(a.current.has(s)||a.current.set(s,new Set),()=>{u.current.delete(s),a.current.delete(s)}),filter:()=>i.current.shouldFilter,label:d||e["aria-label"],listId:h,inputId:R,labelId:p}),[]);function S(s){var $;let C=(($=i.current)==null?void 0:$.filter)??Sn;return s?C(s,o.current.search):0}function O(){if(!n.current||!o.current.search||i.current.shouldFilter===!1)return;let s=o.current.filtered.items,$=[];o.current.filtered.groups.forEach(m=>{let x=a.current.get(m),k=0;x.forEach(Y=>{let at=s.get(Y);k=Math.max(at,k)}),$.push([m,k])});let C=n.current.querySelector(Cn);j().sort((m,x)=>{let k=m.getAttribute(_),Y=x.getAttribute(_);return(s.get(Y)??0)-(s.get(k)??0)}).forEach(m=>{let x=m.closest(de);x?x.appendChild(m.parentElement===x?m:m.closest(`${de} > *`)):C.appendChild(m.parentElement===C?m:m.closest(`${de} > *`))}),$.sort((m,x)=>x[1]-m[1]).forEach(m=>{let x=n.current.querySelector(`${H}[${_}="${m[0]}"]`);x==null||x.parentElement.appendChild(x)})}function A(){let s=j().find(C=>!C.ariaDisabled),$=s==null?void 0:s.getAttribute(_);y.setState("value",$||void 0)}function I(){if(!o.current.search||i.current.shouldFilter===!1){o.current.filtered.count=c.current.size;return}o.current.filtered.groups=new Set;let s=0;for(let $ of c.current){let C=u.current.get($),m=S(C);o.current.filtered.items.set($,m),m>0&&s++}for(let[$,C]of a.current)for(let m of C)if(o.current.filtered.items.get(m)>0){o.current.filtered.groups.add($);break}o.current.filtered.count=s}function ge(){var s,$,C;let m=G();m&&(((s=m.parentElement)==null?void 0:s.firstChild)===m&&((C=($=m.closest(H))==null?void 0:$.querySelector(wn))==null||C.scrollIntoView({block:"nearest"})),m.scrollIntoView({block:"nearest"}))}function G(){return n.current.querySelector(`${Je}[aria-selected="true"]`)}function j(){return Array.from(n.current.querySelectorAll(Le))}function oe(s){let $=j()[s];$&&y.setState("value",$.getAttribute(_))}function ce(s){var $;let C=G(),m=j(),x=m.findIndex(Y=>Y===C),k=m[x+s];($=i.current)!=null&&$.loop&&(k=x+s<0?m[m.length-1]:x+s===m.length?m[0]:m[x+s]),k&&y.setState("value",k.getAttribute(_))}function ye(s){let $=G(),C=$==null?void 0:$.closest(H),m;for(;C&&!m;)C=s>0?In(C,H):_n(C,H),m=C==null?void 0:C.querySelector(Le);m?y.setState("value",m.getAttribute(_)):ce(s)}let Ce=()=>oe(j().length-1),we=s=>{s.preventDefault(),s.metaKey?Ce():s.altKey?ye(1):ce(1)},Se=s=>{s.preventDefault(),s.metaKey?oe(0):s.altKey?ye(-1):ce(-1)};return r.createElement("div",{ref:Z([n,t]),...f,"cmdk-root":"",onKeyDown:s=>{var $;if(($=f.onKeyDown)==null||$.call(f,s),!s.defaultPrevented)switch(s.key){case"n":case"j":{s.ctrlKey&&we(s);break}case"ArrowDown":{we(s);break}case"p":case"k":{s.ctrlKey&&Se(s);break}case"ArrowUp":{Se(s);break}case"Home":{s.preventDefault(),oe(0);break}case"End":{s.preventDefault(),Ce();break}case"Enter":{s.preventDefault();let C=G();if(C){let m=new Event(be);C.dispatchEvent(m)}}}}},r.createElement("label",{"cmdk-label":"",htmlFor:D.inputId,id:D.labelId,style:Fn},d),r.createElement(tt.Provider,{value:y},r.createElement(et.Provider,{value:D},v)))}),Rn=r.forwardRef((e,t)=>{let n=r.useId(),o=r.useRef(null),c=r.useContext(nt),a=q(),u=ot(e);V(()=>a.item(n,c),[]);let l=ct(n,o,[e.value,e.children,o]),i=Ee(),d=W(p=>p.value&&p.value===l.current),v=W(p=>a.filter()===!1?!0:p.search?p.filtered.items.get(n)>0:!0);r.useEffect(()=>{let p=o.current;if(!(!p||e.disabled))return p.addEventListener(be,b),()=>p.removeEventListener(be,b)},[v,e.onSelect,e.disabled]);function b(){var p,R;(R=(p=u.current).onSelect)==null||R.call(p,l.current)}function g(){i.setState("value",l.current,!0)}if(!v)return null;let{disabled:E,value:P,onSelect:f,...h}=e;return r.createElement("div",{ref:Z([o,t]),...h,"cmdk-item":"",role:"option","aria-disabled":E||void 0,"aria-selected":d||void 0,"data-selected":d||void 0,onPointerMove:E?void 0:g,onClick:E?void 0:b},e.children)}),Dn=r.forwardRef((e,t)=>{let{heading:n,children:o,...c}=e,a=r.useId(),u=r.useRef(null),l=r.useRef(null),i=r.useId(),d=q(),v=W(g=>d.filter()===!1?!0:g.search?g.filtered.groups.has(a):!0);V(()=>d.group(a),[]),ct(a,u,[e.value,e.heading,l]);let b=r.createElement(nt.Provider,{value:a},o);return r.createElement("div",{ref:Z([u,t]),...c,"cmdk-group":"",role:"presentation",hidden:v?void 0:!0},n&&r.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:i},n),r.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?i:void 0},b))}),Pn=r.forwardRef((e,t)=>{let{alwaysRender:n,...o}=e,c=r.useRef(null),a=W(u=>!u.search);return!n&&!a?null:r.createElement("div",{ref:Z([c,t]),...o,"cmdk-separator":"",role:"separator"})}),xn=r.forwardRef((e,t)=>{let{onValueChange:n,...o}=e,c=e.value!=null,a=Ee(),u=W(i=>i.search),l=q();return r.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),r.createElement("input",{ref:t,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,id:l.inputId,type:"text",value:c?e.value:u,onChange:i=>{c||a.setState("search",i.target.value),n==null||n(i.target.value)}})}),On=r.forwardRef((e,t)=>{let{children:n,...o}=e,c=r.useRef(null),a=r.useRef(null),u=q();return r.useEffect(()=>{if(a.current&&c.current){let l=a.current,i=c.current,d,v=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let b=l.getBoundingClientRect().height;i.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return v.observe(l),()=>{cancelAnimationFrame(d),v.unobserve(l)}}},[]),r.createElement("div",{ref:Z([c,t]),...o,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:u.listId,"aria-labelledby":u.inputId},r.createElement("div",{ref:a,"cmdk-list-sizer":""},n))}),Nn=r.forwardRef((e,t)=>{let{open:n,onOpenChange:o,container:c,...a}=e;return r.createElement(hn,{open:n,onOpenChange:o},r.createElement(En,{container:c},r.createElement(gn,{"cmdk-overlay":""}),r.createElement(yn,{"aria-label":e.label,"cmdk-dialog":""},r.createElement(rt,{ref:t,...a}))))}),kn=r.forwardRef((e,t)=>{let n=r.useRef(!0),o=W(c=>c.filtered.count===0);return r.useEffect(()=>{n.current=!1},[]),n.current||!o?null:r.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})}),An=r.forwardRef((e,t)=>{let{progress:n,children:o,...c}=e;return r.createElement("div",{ref:t,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},r.createElement("div",{"aria-hidden":!0},o))}),zn=Object.assign(rt,{List:On,Item:Rn,Input:xn,Group:Dn,Separator:Pn,Dialog:Nn,Empty:kn,Loading:An});function In(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function _n(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function ot(e){let t=r.useRef(e);return V(()=>{t.current=e}),t}var V=typeof window>"u"?r.useEffect:r.useLayoutEffect;function B(e){let t=r.useRef();return t.current===void 0&&(t.current=e()),t}function Z(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function W(e){let t=Ee(),n=()=>e(t.snapshot());return r.useSyncExternalStore(t.subscribe,n,n)}function ct(e,t,n){let o=r.useRef(),c=q();return V(()=>{var a;let u=(()=>{var l;for(let i of n){if(typeof i=="string")return i.trim().toLowerCase();if(typeof i=="object"&&"current"in i&&i.current)return(l=i.current.textContent)==null?void 0:l.trim().toLowerCase()}})();c.value(e,u),(a=t.current)==null||a.setAttribute(_,u),o.current=u}),o}var Tn=()=>{let[e,t]=r.useState(),n=B(()=>new Map);return V(()=>{n.current.forEach(o=>o()),n.current=new Map},[e]),(o,c)=>{n.current.set(o,c),t({})}},Fn={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};export{zn as L};
